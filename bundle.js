(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
require("matter-js");

var Engine = Matter.Engine,
    World = Matter.World,
    Bodies = Matter.Bodies,
	MouseConstraint = Matter.MouseConstraint;

var engine = Engine.create(document.body, {
	render: {
		options: {
			wireframes: false
		}
	}
});

function createSushi(x, y){
	return Bodies.circle(x, y, 24, {
		render: {
			sprite: {
				texture: "http://emoji.fileformat.info/gemoji/sushi.png"
			}
		}
	});
}

function addRandomSushi(World){
	var sushi = createSushi(400 + Math.random() * 100 - 50, -100);
	World.add(engine.world, [sushi]);
}

var offset = 10;
World.add(engine.world, [
  //Bodies.rectangle(400, -offset, 800 + 2 * offset, 50, { isStatic: true }),
  Bodies.rectangle(400, 600 + offset, 800 + 2 * offset, 50, { isStatic: true }),
  Bodies.rectangle(800 + offset, 300, 50, 600 + 2 * offset, { isStatic: true }),
  Bodies.rectangle(-offset, 300, 50, 600 + 2 * offset, { isStatic: true })
]);

var mouseConstraint = MouseConstraint.create(engine);

for(var i = 0; i < 50; i++){
	setTimeout(function(){
		addRandomSushi(World);
	}, 100 * i);
}


setTimeout(function(){
	setInterval(function(){
		addRandomSushi(World);
	}, 1000)
}, 6000)

World.add(engine.world, mouseConstraint);
// run the engine
Engine.run(engine);
},{"matter-js":2}],2:[function(require,module,exports){
/**
* matter-0.8.0.min.js 0.8.0-alpha 2014-05-04
* http://brm.io/matter-js/
* License: MIT
*/

!function(){var a={},b={};!function(){var a=1;b.create=function(a){var b={id:o.nextId(),type:"body",label:"Body",angle:0,vertices:z.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionAir:.01,groupId:0,slop:.05,timeScale:1,render:{visible:!0,sprite:{xScale:1,yScale:1},lineWidth:1.5}},d=o.extend(b,a);return c(d),d},b.nextGroupId=function(){return a++};var c=function(a){a.axes=a.axes||w.fromVertices(a.vertices),a.area=z.area(a.vertices),a.bounds=x.create(a.vertices),a.mass=a.mass||a.density*a.area,a.inverseMass=1/a.mass,a.inertia=a.inertia||z.inertia(a.vertices,a.mass),a.inverseInertia=1/a.inertia,a.positionPrev=a.positionPrev||{x:a.position.x,y:a.position.y},a.anglePrev=a.anglePrev||a.angle,a.render.fillStyle=a.render.fillStyle||(a.isStatic?"#eeeeee":o.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"])),a.render.strokeStyle=a.render.strokeStyle||o.shadeColor(a.render.fillStyle,-20),z.create(a.vertices,a);var c=z.centre(a.vertices);z.translate(a.vertices,a.position),z.translate(a.vertices,c,-1),z.rotate(a.vertices,a.angle,a.position),w.rotate(a.axes,a.angle),x.update(a.bounds,a.vertices,a.velocity),b.setStatic(a,a.isStatic),t.set(a,a.isSleeping)};b.setStatic=function(a,b){a.isStatic=b,b&&(a.restitution=0,a.friction=1,a.mass=a.inertia=a.density=1/0,a.inverseMass=a.inverseInertia=0,a.render.lineWidth=1,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.angularVelocity=0,a.speed=0,a.angularSpeed=0,a.motion=0)},b.resetForcesAll=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.force.x=0,c.force.y=0,c.torque=0}},b.applyGravityAll=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.isStatic||d.isSleeping||(d.force.y+=d.mass*b.y*.001,d.force.x+=d.mass*b.x*.001)}},b.updateAll=function(a,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g];h.isStatic||h.isSleeping||h.bounds.max.x<f.min.x||h.bounds.min.x>f.max.x||h.bounds.max.y<f.min.y||h.bounds.min.y>f.max.y||b.update(h,c,d,e)}},b.update=function(a,b,c,d){var e=Math.pow(b*c*a.timeScale,2),f=1-a.frictionAir*c*a.timeScale,g=a.position.x-a.positionPrev.x,h=a.position.y-a.positionPrev.y;a.velocity.x=g*f*d+a.force.x/a.mass*e,a.velocity.y=h*f*d+a.force.y/a.mass*e,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.angularVelocity=(a.angle-a.anglePrev)*f*d+a.torque/a.inertia*e,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=y.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity),z.translate(a.vertices,a.velocity),0!==a.angularVelocity&&(z.rotate(a.vertices,a.angularVelocity,a.position),w.rotate(a.axes,a.angularVelocity)),x.update(a.bounds,a.vertices,a.velocity)},b.applyForce=function(a,b,c){a.force.x+=c.x,a.force.y+=c.y;var d={x:b.x-a.position.x,y:b.y-a.position.y};a.torque+=(d.x*c.y-d.y*c.x)*a.inverseInertia},b.translate=function(a,b){a.positionPrev.x+=b.x,a.positionPrev.y+=b.y,a.position.x+=b.x,a.position.y+=b.y,z.translate(a.vertices,b),x.update(a.bounds,a.vertices,a.velocity)},b.rotate=function(a,b){a.anglePrev+=b,a.angle+=b,z.rotate(a.vertices,b,a.position),w.rotate(a.axes,b),x.update(a.bounds,a.vertices,a.velocity)},b.scale=function(a,b,c,d){z.scale(a.vertices,b,c,d),a.axes=w.fromVertices(a.vertices),a.area=z.area(a.vertices),a.mass=a.density*a.area,a.inverseMass=1/a.mass,z.translate(a.vertices,{x:-a.position.x,y:-a.position.y}),a.inertia=z.inertia(a.vertices,a.mass),a.inverseInertia=1/a.inertia,z.translate(a.vertices,{x:a.position.x,y:a.position.y}),x.update(a.bounds,a.vertices,a.velocity)}}();var c={};!function(){c.create=function(a){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},a)},c.setModified=function(a,b,d,e){if(a.isModified=b,d&&a.parent&&c.setModified(a.parent,b,d,e),e)for(var f=0;f<a.composites.length;f++){var g=a.composites[f];c.setModified(g,b,d,e)}},c.add=function(a,b){for(var d=[].concat(b),e=0;e<d.length;e++){var f=d[e];switch(f.type){case"body":c.addBody(a,f);break;case"constraint":c.addConstraint(a,f);break;case"composite":c.addComposite(a,f);break;case"mouseConstraint":c.addConstraint(a,f.constraint)}}return a},c.remove=function(a,b,d){for(var e=[].concat(b),f=0;f<e.length;f++){var g=e[f];switch(g.type){case"body":c.removeBody(a,g,d);break;case"constraint":c.removeConstraint(a,g,d);break;case"composite":c.removeComposite(a,g,d);break;case"mouseConstraint":c.removeConstraint(a,g.constraint)}}return a},c.addComposite=function(a,b){return a.composites.push(b),b.parent=a,c.setModified(a,!0,!0,!1),a},c.removeComposite=function(a,b,d){var e=a.composites.indexOf(b);if(-1!==e&&(c.removeCompositeAt(a,e),c.setModified(a,!0,!0,!1)),d)for(var f=0;f<a.composites.length;f++)c.removeComposite(a.composites[f],b,!0);return a},c.removeCompositeAt=function(a,b){return a.composites.splice(b,1),c.setModified(a,!0,!0,!1),a},c.addBody=function(a,b){return a.bodies.push(b),c.setModified(a,!0,!0,!1),a},c.removeBody=function(a,b,d){var e=a.bodies.indexOf(b);if(-1!==e&&(c.removeBodyAt(a,e),c.setModified(a,!0,!0,!1)),d)for(var f=0;f<a.composites.length;f++)c.removeBody(a.composites[f],b,!0);return a},c.removeBodyAt=function(a,b){return a.bodies.splice(b,1),c.setModified(a,!0,!0,!1),a},c.addConstraint=function(a,b){return a.constraints.push(b),c.setModified(a,!0,!0,!1),a},c.removeConstraint=function(a,b,d){var e=a.constraints.indexOf(b);if(-1!==e&&c.removeConstraintAt(a,e),d)for(var f=0;f<a.composites.length;f++)c.removeConstraint(a.composites[f],b,!0);return a},c.removeConstraintAt=function(a,b){return a.constraints.splice(b,1),c.setModified(a,!0,!0,!1),a},c.clear=function(a,b,d){if(d)for(var e=0;e<a.composites.length;e++)c.clear(a.composites[e],b,!0);return b?a.bodies=a.bodies.filter(function(a){return a.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,c.setModified(a,!0,!0,!1),a},c.allBodies=function(a){for(var b=[].concat(a.bodies),d=0;d<a.composites.length;d++)b=b.concat(c.allBodies(a.composites[d]));return b},c.allConstraints=function(a){for(var b=[].concat(a.constraints),d=0;d<a.composites.length;d++)b=b.concat(c.allConstraints(a.composites[d]));return b},c.allComposites=function(a){for(var b=[].concat(a.composites),d=0;d<a.composites.length;d++)b=b.concat(c.allComposites(a.composites[d]));return b},c.get=function(a,b,d){var e,f;switch(d){case"body":e=c.allBodies(a);break;case"constraint":e=c.allConstraints(a);break;case"composite":e=c.allComposites(a).concat(a)}return e?(f=e.filter(function(a){return a.id.toString()===b.toString()}),0===f.length?null:f[0]):null},c.move=function(a,b,d){return c.remove(a,b),c.add(d,b),a},c.rebase=function(a){for(var b=c.allBodies(a).concat(c.allConstraints(a)).concat(c.allComposites(a)),d=0;d<b.length;d++)b[d].id=o.nextId();return c.setModified(a,!0,!0,!1),a}}();var d={};!function(){d.create=function(a){var b=c.create(),d={label:"World",gravity:{x:0,y:1},bounds:{min:{x:0,y:0},max:{x:800,y:600}}};return o.extend(b,d,a)}}();var e={};!function(){e.create=function(a){return{id:e.id(a),vertex:a,normalImpulse:0,tangentImpulse:0}},e.id=function(a){return a.body.id+"_"+a.index}}();var f={};!function(){f.collisions=function(a,b){for(var c=[],d=b.metrics,e=b.pairs.table,f=0;f<a.length;f++){var g=a[f][0],i=a[f][1];if(!(g.groupId&&i.groupId&&g.groupId===i.groupId||(g.isStatic||g.isSleeping)&&(i.isStatic||i.isSleeping)||(d.midphaseTests+=1,!x.overlaps(g.bounds,i.bounds)))){var j,k=h.id(g,i),m=e[k];j=m&&m.isActive?m.collision:null;var n=l.collides(g,i,j);d.narrowphaseTests+=1,n.reused&&(d.narrowReuseCount+=1),n.collided&&(c.push(n),d.narrowDetections+=1)}}return c},f.bruteForce=function(a,b){for(var c=[],d=b.metrics,e=b.pairs.table,f=0;f<a.length;f++)for(var g=f+1;g<a.length;g++){var i=a[f],j=a[g];if(!(i.groupId&&j.groupId&&i.groupId===j.groupId||(i.isStatic||i.isSleeping)&&(j.isStatic||j.isSleeping)||(d.midphaseTests+=1,!x.overlaps(i.bounds,j.bounds)))){var k,m=h.id(i,j),n=e[m];k=n&&n.isActive?n.collision:null;var o=l.collides(i,j,k);d.narrowphaseTests+=1,o.reused&&(d.narrowReuseCount+=1),o.collided&&(c.push(o),d.narrowDetections+=1)}}return c}}();var g={};!function(){g.create=function(a,b){return{buckets:{},pairs:{},pairsList:[],bucketWidth:a||48,bucketHeight:b||48}},g.update=function(c,g,h,k){var l,m,n,o,p,q=h.world,r=c.buckets,s=h.metrics,t=!1;for(s.broadphaseTests=0,l=0;l<g.length;l++){var u=g[l];if((!u.isSleeping||k)&&!(u.bounds.max.x<0||u.bounds.min.x>q.bounds.width||u.bounds.max.y<0||u.bounds.min.y>q.bounds.height)){var v=b(c,u);if(!u.region||v.id!==u.region.id||k){s.broadphaseTests+=1,(!u.region||k)&&(u.region=v);var w=a(v,u.region);for(m=w.startCol;m<=w.endCol;m++)for(n=w.startRow;n<=w.endRow;n++){p=d(m,n),o=r[p];var x=m>=v.startCol&&m<=v.endCol&&n>=v.startRow&&n<=v.endRow,y=m>=u.region.startCol&&m<=u.region.endCol&&n>=u.region.startRow&&n<=u.region.endRow;!x&&y&&y&&o&&i(c,o,u),(u.region===v||x&&!y||k)&&(o||(o=e(r,p)),f(c,o,u))}u.region=v,t=!0}}}t&&(c.pairsList=j(c))},g.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]};var a=function(a,b){var d=Math.min(a.startCol,b.startCol),e=Math.max(a.endCol,b.endCol),f=Math.min(a.startRow,b.startRow),g=Math.max(a.endRow,b.endRow);return c(d,e,f,g)},b=function(a,b){var d=b.bounds,e=Math.floor(d.min.x/a.bucketWidth),f=Math.floor(d.max.x/a.bucketWidth),g=Math.floor(d.min.y/a.bucketHeight),h=Math.floor(d.max.y/a.bucketHeight);return c(e,f,g,h)},c=function(a,b,c,d){return{id:a+","+b+","+c+","+d,startCol:a,endCol:b,startRow:c,endRow:d}},d=function(a,b){return a+","+b},e=function(a,b){var c=a[b]=[];return c},f=function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(!(c.id===e.id||c.isStatic&&e.isStatic)){var f=h.id(c,e),g=a.pairs[f];g?g[2]+=1:a.pairs[f]=[c,e,1]}}b.push(c)},i=function(a,b,c){b.splice(b.indexOf(c),1);for(var d=0;d<b.length;d++){var e=b[d],f=h.id(c,e),g=a.pairs[f];g&&(g[2]-=1)}},j=function(a){var b,c,d=[];b=o.keys(a.pairs);for(var e=0;e<b.length;e++)c=a.pairs[b[e]],c[2]>0?d.push(c):delete a.pairs[b[e]];return d}}();var h={};!function(){h.create=function(a,b){var c=a.bodyA,d=a.bodyB,e={id:h.id(c,d),bodyA:c,bodyB:d,contacts:{},activeContacts:[],separation:0,isActive:!0,timeCreated:b,timeUpdated:b,inverseMass:c.inverseMass+d.inverseMass,friction:Math.min(c.friction,d.friction),restitution:Math.max(c.restitution,d.restitution),slop:Math.max(c.slop,d.slop)};return h.update(e,a,b),e},h.update=function(a,b,c){var d=a.contacts,f=b.supports,g=a.activeContacts;if(a.collision=b,g.length=0,b.collided){for(var i=0;i<f.length;i++){var j=f[i],k=e.id(j),l=d[k];g.push(l?l:d[k]=e.create(j))}a.separation=b.depth,h.setActive(a,!0,c)}else a.isActive===!0&&h.setActive(a,!1,c)},h.setActive=function(a,b,c){b?(a.isActive=!0,a.timeUpdated=c):(a.isActive=!1,a.activeContacts.length=0)},h.id=function(a,b){return a.id<b.id?a.id+"_"+b.id:b.id+"_"+a.id}}();var i={};!function(){var a=1e3;i.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},i.update=function(a,b,c){var d,e,f,g,i=a.list,j=a.table,k=a.collisionStart,l=a.collisionEnd,m=a.collisionActive,n=[];for(k.length=0,l.length=0,m.length=0,g=0;g<b.length;g++)d=b[g],d.collided&&(e=h.id(d.bodyA,d.bodyB),n.push(e),f=j[e],f?(f.isActive?m.push(f):k.push(f),h.update(f,d,c)):(f=h.create(d,c),j[e]=f,k.push(f),i.push(f)));for(g=0;g<i.length;g++)f=i[g],f.isActive&&-1===n.indexOf(f.id)&&(h.setActive(f,!1,c),l.push(f))},i.removeOld=function(b,c){var d,e,f,g,h=b.list,i=b.table,j=[];for(g=0;g<h.length;g++)d=h[g],e=d.collision,e.bodyA.isSleeping||e.bodyB.isSleeping?d.timeUpdated=c:c-d.timeUpdated>a&&j.push(g);for(g=0;g<j.length;g++)f=j[g]-g,d=h[f],delete i[d.id],h.splice(f,1)},i.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}}();var j={};!function(){j.ray=function(a,b,c,d){d=d||Number.MIN_VALUE;for(var e=y.angle(b,c),f=y.magnitude(y.sub(b,c)),g=.5*(c.x+b.x),h=.5*(c.y+b.y),i=u.rectangle(g,h,f,d,{angle:e}),j=[],k=0;k<a.length;k++){var m=a[k];if(x.overlaps(m.bounds,i.bounds)){var n=l.collides(m,i);n.collided&&(n.body=n.bodyA=n.bodyB=m,j.push(n))}}return j},j.region=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=x.overlaps(f.bounds,b);(g&&!c||!g&&c)&&d.push(f)}return d}}();var k={};!function(){var a=4,b=.2,c=.6;k.solvePosition=function(a,c){var d,e,f,g,h,i,j,k,l;for(d=0;d<a.length;d++)e=a[d],e.isActive&&(f=e.collision,g=f.bodyA,h=f.bodyB,i=f.supports[0],j=f.supportCorrected,k=f.normal,l=y.sub(y.add(h.positionImpulse,i),y.add(g.positionImpulse,j)),e.separation=y.dot(k,l));for(d=0;d<a.length;d++)e=a[d],e.isActive&&(f=e.collision,g=f.bodyA,h=f.bodyB,k=f.normal,positionImpulse=(e.separation*b-e.slop)*c,(g.isStatic||h.isStatic)&&(positionImpulse*=2),g.isStatic||g.isSleeping||(g.positionImpulse.x+=k.x*positionImpulse,g.positionImpulse.y+=k.y*positionImpulse),h.isStatic||h.isSleeping||(h.positionImpulse.x-=k.x*positionImpulse,h.positionImpulse.y-=k.y*positionImpulse))},k.postSolvePosition=function(a){for(var b=0;b<a.length;b++){var d=a[b];(0!==d.positionImpulse.x||0!==d.positionImpulse.y)&&(d.position.x+=d.positionImpulse.x,d.position.y+=d.positionImpulse.y,d.positionPrev.x+=d.positionImpulse.x,d.positionPrev.y+=d.positionImpulse.y,z.translate(d.vertices,d.positionImpulse),x.update(d.bounds,d.vertices,d.velocity),d.positionImpulse.x*=c,d.positionImpulse.y*=c)}},k.preSolveVelocity=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p={};for(b=0;b<a.length;b++)if(d=a[b],d.isActive)for(e=d.activeContacts,f=d.collision,g=f.bodyA,h=f.bodyB,i=f.normal,j=f.tangent,c=0;c<e.length;c++)k=e[c],l=k.vertex,m=k.normalImpulse,n=k.tangentImpulse,p.x=i.x*m+j.x*n,p.y=i.y*m+j.y*n,g.isStatic||g.isSleeping||(o=y.sub(l,g.position),g.positionPrev.x+=p.x*g.inverseMass,g.positionPrev.y+=p.y*g.inverseMass,g.anglePrev+=y.cross(o,p)*g.inverseInertia),h.isStatic||h.isSleeping||(o=y.sub(l,h.position),h.positionPrev.x-=p.x*h.inverseMass,h.positionPrev.y-=p.y*h.inverseMass,h.anglePrev-=y.cross(o,p)*h.inverseInertia)},k.solveVelocity=function(b,c){for(var d={},e=c*c,f=0;f<b.length;f++){var g=b[f];if(g.isActive){var h=g.collision,i=h.bodyA,j=h.bodyB,k=h.normal,l=h.tangent,m=g.activeContacts,n=1/m.length;i.velocity.x=i.position.x-i.positionPrev.x,i.velocity.y=i.position.y-i.positionPrev.y,j.velocity.x=j.position.x-j.positionPrev.x,j.velocity.y=j.position.y-j.positionPrev.y,i.angularVelocity=i.angle-i.anglePrev,j.angularVelocity=j.angle-j.anglePrev;for(var p=0;p<m.length;p++){var q=m[p],r=q.vertex,s=y.sub(r,i.position),t=y.sub(r,j.position),u=y.add(i.velocity,y.mult(y.perp(s),i.angularVelocity)),v=y.add(j.velocity,y.mult(y.perp(t),j.angularVelocity)),w=y.sub(u,v),x=y.dot(k,w),z=y.dot(l,w),A=Math.abs(z),B=o.sign(z),C=(1+g.restitution)*x,D=o.clamp(g.separation+x,0,1),E=z;A>D*g.friction*e&&(E=D*g.friction*e*B);var F=y.cross(s,k),G=y.cross(t,k),H=n/(g.inverseMass+i.inverseInertia*F*F+j.inverseInertia*G*G);if(C*=H,E*=H,0>x&&x*x>a*e)q.normalImpulse=0,q.tangentImpulse=0;else{var I=q.normalImpulse;q.normalImpulse=Math.min(q.normalImpulse+C,0),C=q.normalImpulse-I;var J=q.tangentImpulse;q.tangentImpulse=o.clamp(q.tangentImpulse+E,-A,A),E=q.tangentImpulse-J}d.x=k.x*C+l.x*E,d.y=k.y*C+l.y*E,i.isStatic||i.isSleeping||(i.positionPrev.x+=d.x*i.inverseMass,i.positionPrev.y+=d.y*i.inverseMass,i.anglePrev+=y.cross(s,d)*i.inverseInertia),j.isStatic||j.isSleeping||(j.positionPrev.x-=d.x*j.inverseMass,j.positionPrev.y-=d.y*j.inverseMass,j.anglePrev-=y.cross(t,d)*j.inverseInertia)}}}}}();var l={};!function(){l.collides=function(b,d,e){var f,g,h,i,j=e,k=!1;if(j){var l=b.speed*b.speed+b.angularSpeed*b.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;k=j&&j.collided&&.2>l,i=j}else i={collided:!1,bodyA:b,bodyB:d};if(j&&k){var m=[j.bodyA.axes[j.axisNumber]];if(h=a(j.bodyA.vertices,j.bodyB.vertices,m),i.reused=!0,h.overlap<=0)return i.collided=!1,i}else{if(f=a(b.vertices,d.vertices,b.axes),f.overlap<=0)return i.collided=!1,i;if(g=a(d.vertices,b.vertices,d.axes),g.overlap<=0)return i.collided=!1,i;f.overlap<g.overlap?(h=f,i.bodyA=b,i.bodyB=d):(h=g,i.bodyA=d,i.bodyB=b),i.axisNumber=h.axisNumber}i.collided=!0,i.normal=h.axis,i.depth=h.overlap,b=i.bodyA,d=i.bodyB,y.dot(i.normal,y.sub(d.position,b.position))>0&&(i.normal=y.neg(i.normal)),i.tangent=y.perp(i.normal),i.penetration={x:i.normal.x*i.depth,y:i.normal.y*i.depth};var n=c(b,d,i.normal),o=[n[0]];if(z.contains(b.vertices,n[1]))o.push(n[1]);else{var p=c(d,b,y.neg(i.normal));z.contains(d.vertices,p[0])&&o.push(p[0]),o.length<2&&z.contains(d.vertices,p[1])&&o.push(p[1])}return i.supports=o,i.supportCorrected=y.sub(n[0],i.penetration),i};var a=function(a,c,d){for(var e,f,g={},h={},i={overlap:Number.MAX_VALUE},j=0;j<d.length;j++){if(f=d[j],b(g,a,f),b(h,c,f),e=g.min<h.min?g.max-h.min:h.max-g.min,0>=e)return i.overlap=e,i;e<i.overlap&&(i.overlap=e,i.axis=f,i.axisNumber=j)}return i},b=function(a,b,c){for(var d=y.dot(b[0],c),e=d,f=1;f<b.length;f+=1){var g=y.dot(b[f],c);g>e?e=g:d>g&&(d=g)}a.min=d,a.max=e},c=function(a,b,c){for(var d,e,f=Number.MAX_VALUE,g={x:0,y:0},h=b.vertices,i=a.position,j=h[0],k=h[1],l=0;l<h.length;l++)e=h[l],g.x=e.x-i.x,g.y=e.y-i.y,d=-y.dot(c,g),f>d&&(f=d,j=e);var m=j.index-1>=0?j.index-1:h.length-1;e=h[m],g.x=e.x-i.x,g.y=e.y-i.y,f=-y.dot(c,g),k=e;var n=(j.index+1)%h.length;return e=h[n],g.x=e.x-i.x,g.y=e.y-i.y,d=-y.dot(c,g),f>d&&(f=d,k=e),[j,k]}}();var m={};!function(){var a=1e-6,b=.001;m.create=function(b){var c=b;c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0}),c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var d=c.bodyA?y.add(c.bodyA.position,c.pointA):c.pointA,e=c.bodyB?y.add(c.bodyB.position,c.pointB):c.pointB,f=y.magnitude(y.sub(d,e));c.length=c.length||f||a;var g={visible:!0,lineWidth:2,strokeStyle:"#666"};return c.render=o.extend(g,c.render),c.id=c.id||o.nextId(),c.label=c.label||"Constraint",c.type="constraint",c.stiffness=c.stiffness||1,c.angularStiffness=c.angularStiffness||0,c.angleA=c.bodyA?c.bodyA.angle:c.angleA,c.angleB=c.bodyB?c.bodyB.angle:c.angleB,c},m.solveAll=function(a,b){for(var c=0;c<a.length;c++)m.solve(a[c],b)},m.solve=function(c,d){var e=c.bodyA,f=c.bodyB,g=c.pointA,h=c.pointB;e&&!e.isStatic&&(c.pointA=y.rotate(g,e.angle-c.angleA),c.angleA=e.angle),f&&!f.isStatic&&(c.pointB=y.rotate(h,f.angle-c.angleB),c.angleB=f.angle);var i=g,j=h;if(e&&(i=y.add(e.position,g)),f&&(j=y.add(f.position,h)),i&&j){var k=y.sub(i,j),l=y.magnitude(k);0===l&&(l=a);var m=(l-c.length)/l,n=y.div(k,l),p=y.mult(k,.5*m*c.stiffness*d*d);if(!(Math.abs(1-l/c.length)<b*d)){var q,r,s,u,v,w,x,z;e&&!e.isStatic?(s={x:i.x-e.position.x+p.x,y:i.y-e.position.y+p.y},e.velocity.x=e.position.x-e.positionPrev.x,e.velocity.y=e.position.y-e.positionPrev.y,e.angularVelocity=e.angle-e.anglePrev,q=y.add(e.velocity,y.mult(y.perp(s),e.angularVelocity)),v=y.dot(s,n),x=e.inverseMass+e.inverseInertia*v*v):(q={x:0,y:0},x=e?e.inverseMass:0),f&&!f.isStatic?(u={x:j.x-f.position.x-p.x,y:j.y-f.position.y-p.y},f.velocity.x=f.position.x-f.positionPrev.x,f.velocity.y=f.position.y-f.positionPrev.y,f.angularVelocity=f.angle-f.anglePrev,r=y.add(f.velocity,y.mult(y.perp(u),f.angularVelocity)),w=y.dot(u,n),z=f.inverseMass+f.inverseInertia*w*w):(r={x:0,y:0},z=f?f.inverseMass:0);var A=y.sub(r,q),B=y.dot(n,A)/(x+z);B>0&&(B=0);var C,D={x:n.x*B,y:n.y*B};e&&!e.isStatic&&(C=y.cross(s,D)*e.inverseInertia*(1-c.angularStiffness),t.set(e,!1),C=o.clamp(C,-.01,.01),e.constraintImpulse.x-=p.x,e.constraintImpulse.y-=p.y,e.constraintImpulse.angle+=C,e.position.x-=p.x,e.position.y-=p.y,e.angle+=C),f&&!f.isStatic&&(C=y.cross(u,D)*f.inverseInertia*(1-c.angularStiffness),t.set(f,!1),C=o.clamp(C,-.01,.01),f.constraintImpulse.x+=p.x,f.constraintImpulse.y+=p.y,f.constraintImpulse.angle-=C,f.position.x+=p.x,f.position.y+=p.y,f.angle-=C)}}},m.postSolveAll=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.constraintImpulse;z.translate(c.vertices,d),0!==d.angle&&(z.rotate(c.vertices,d.angle,c.position),w.rotate(c.axes,d.angle),d.angle=0),x.update(c.bounds,c.vertices),d.x=0,d.y=0}}}();var n={};!function(){n.create=function(a,b){var d=a.input.mouse,e=m.create({label:"Mouse Constraint",pointA:d.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),f={type:"mouseConstraint",mouse:d,dragBody:null,dragPoint:null,constraint:e},g=o.extend(f,b);return q.on(a,"tick",function(){var b=c.allBodies(a.world);n.update(g,b)}),g},n.update=function(a,b){var c=a.mouse,d=a.constraint;if(0===c.button){if(!d.bodyB)for(var e=0;e<b.length;e++){var f=b[e];x.contains(f.bounds,c.position)&&z.contains(f.vertices,c.position)&&(d.pointA=c.position,d.bodyB=f,d.pointB={x:c.position.x-f.position.x,y:c.position.y-f.position.y},d.angleB=f.angle,t.set(f,!1))}}else d.bodyB=null,d.pointB=null;d.bodyB&&(t.set(d.bodyB,!1),d.pointA=c.position)}}();var o={};!function(){o._nextId=0,o.extend=function(a,b){var c,d,e;"boolean"==typeof b?(c=2,e=b):(c=1,e=!0),d=Array.prototype.slice.call(arguments,c);for(var f=0;f<d.length;f++){var g=d[f];if(g)for(var h in g)e&&g[h]&&g[h].constructor===Object?a[h]&&a[h].constructor!==Object?a[h]=g[h]:(a[h]=a[h]||{},o.extend(a[h],e,g[h])):a[h]=g[h]}return a},o.clone=function(a,b){return o.extend({},b,a)},o.keys=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)b.push(c);return b},o.values=function(a){var b=[];if(Object.keys){for(var c=Object.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}for(var e in a)b.push(a[e]);return b},o.shadeColor=function(a,b){var c=parseInt(a.slice(1),16),d=Math.round(2.55*b),e=(c>>16)+d,f=(c>>8&255)+d,g=(255&c)+d;return"#"+(16777216+65536*(255>e?1>e?0:e:255)+256*(255>f?1>f?0:f:255)+(255>g?1>g?0:g:255)).toString(16).slice(1)},o.shuffle=function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a},o.choose=function(a){return a[Math.floor(Math.random()*a.length)]},o.isElement=function(a){try{return a instanceof HTMLElement}catch(b){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},o.clamp=function(a,b,c){return b>a?b:a>c?c:a},o.sign=function(a){return 0>a?-1:1},o.now=function(){var a=window.performance;return a?(a.now=a.now||a.webkitNow||a.msNow||a.oNow||a.mozNow,+a.now()):+new Date},o.random=function(a,b){return a+Math.random()*(b-a)},o.colorToNumber=function(a){return a=a.replace("#",""),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},o.log=function(a,b){if(console&&console.log){var c;switch(b){case"warn":c="color: coral";break;case"error":c="color: red"}console.log("%c [Matter] "+b+": "+a,c)}},o.nextId=function(){return o._nextId++}}();var p={};!function(){var a=60,e=a,h=1e3/a,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(function(){a(o.now())},h)};p.create=function(b,c){c=o.isElement(b)?c:b,b=o.isElement(b)?b:null;var e={enabled:!0,positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,timeScale:1,input:{},events:[],timing:{fps:a,timestamp:0,delta:h,correction:1,deltaMin:1e3/a,deltaMax:1e3/(.5*a),timeScale:1,isFixed:!1},render:{element:b,controller:A}},j=o.extend(e,c);return j.render=j.render.controller.create(j.render),j.world=d.create(j.world),j.pairs=i.create(),j.metrics=j.metrics||r.create(),j.input.mouse=j.input.mouse||s.create(j.render.canvas),j.broadphase=j.broadphase||{current:"grid",grid:{controller:g,instance:g.create(),detector:f.collisions},bruteForce:{detector:f.bruteForce}},j},p.run=function(a){var b,c=0,d=0,f=[],g=1;!function h(i){if(j(h),a.enabled){var k,m,o=a.timing,r={timestamp:i};q.trigger(a,"beforeTick",r),o.isFixed?k=o.delta:(k=i-b||o.delta,b=i,f.push(k),f=f.slice(-e),k=Math.min.apply(null,f),k=k<o.deltaMin?o.deltaMin:k,k=k>o.deltaMax?o.deltaMax:k,m=k/o.delta,o.delta=k),0!==g&&(m*=o.timeScale/g),0===o.timeScale&&(m=0),g=o.timeScale,d+=1,i-c>=1e3&&(o.fps=d*((i-c)/1e3),c=i,d=0),q.trigger(a,"tick",r),a.world.isModified&&a.render.controller.clear(a.render),p.update(a,k,m),n(a),l(a),p.render(a),q.trigger(a,"afterTick",r)}}()},p.update=function(a,d,e){e="undefined"!=typeof e?e:1;var f,g=a.world,h=a.timing,j=a.broadphase[a.broadphase.current],l=[];h.timestamp+=d*h.timeScale,h.correction=e;var n={timestamp:a.timing.timestamp};q.trigger(a,"beforeUpdate",n);var o=c.allBodies(g),p=c.allConstraints(g);for(r.reset(a.metrics),a.enableSleeping&&t.update(o),b.applyGravityAll(o,g.gravity),b.updateAll(o,d,h.timeScale,e,g.bounds),f=0;f<a.constraintIterations;f++)m.solveAll(p,h.timeScale);m.postSolveAll(o),j.controller?(g.isModified&&j.controller.clear(j.instance),j.controller.update(j.instance,o,a,g.isModified),l=j.instance.pairsList):l=o;var s=j.detector(l,a),u=a.pairs,v=h.timestamp;for(i.update(u,s,v),i.removeOld(u,v),a.enableSleeping&&t.afterCollisions(u.list),k.preSolveVelocity(u.list),f=0;f<a.velocityIterations;f++)k.solveVelocity(u.list,h.timeScale);for(f=0;f<a.positionIterations;f++)k.solvePosition(u.list,h.timeScale);return k.postSolvePosition(o),r.update(a.metrics,a),b.resetForcesAll(o),g.isModified&&c.setModified(g,!1,!1,!0),q.trigger(a,"afterUpdate",n),a},p.render=function(a){var b={timestamp:a.timing.timestamp};q.trigger(a,"beforeRender",b),a.render.controller.world(a),q.trigger(a,"afterRender",b)},p.merge=function(a,b){if(o.extend(a,b),b.world){a.world=b.world,p.clear(a);for(var d=c.allBodies(a.world),e=0;e<d.length;e++){var f=d[e];t.set(f,!1),f.id=o.nextId()}}},p.clear=function(a){var b=a.world;i.clear(a.pairs);var d=a.broadphase[a.broadphase.current];if(d.controller){var e=c.allBodies(b);d.controller.clear(d.instance),d.controller.update(d.instance,e,a,!0)}};var l=function(a){var b=a.input.mouse,c=b.sourceEvents;c.mousemove&&q.trigger(a,"mousemove",{mouse:b}),c.mousedown&&q.trigger(a,"mousedown",{mouse:b}),c.mouseup&&q.trigger(a,"mouseup",{mouse:b}),s.clearSourceEvents(b)},n=function(a){var b=a.pairs;b.collisionStart.length>0&&q.trigger(a,"collisionStart",{pairs:b.collisionStart}),b.collisionActive.length>0&&q.trigger(a,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&q.trigger(a,"collisionEnd",{pairs:b.collisionEnd})}}();var q={};!function(){q.on=function(a,b,c){for(var d,e=b.split(" "),f=0;f<e.length;f++)d=e[f],a.events=a.events||{},a.events[d]=a.events[d]||[],a.events[d].push(c);return c},q.off=function(a,b,c){if(!b)return void(a.events={});"function"==typeof b&&(c=b,b=o.keys(a.events).join(" "));for(var d=b.split(" "),e=0;e<d.length;e++){var f=a.events[d[e]],g=[];if(c)for(var h=0;h<f.length;h++)f[h]!==c&&g.push(f[h]);a.events[d[e]]=g}},q.trigger=function(a,b,c){var d,e,f,g;if(a.events){c||(c={}),d=b.split(" ");for(var h=0;h<d.length;h++)if(e=d[h],f=a.events[e]){g=o.clone(c,!1),g.name=e,g.source=a;for(var i=0;i<f.length;i++)f[i].apply(a,[g])}}}}();var r={};!function(){r.create=function(){return{extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0}},r.reset=function(a){a.extended&&(a.narrowDetections=0,a.narrowphaseTests=0,a.narrowReuse=0,a.narrowReuseCount=0,a.midphaseTests=0,a.broadphaseTests=0,a.narrowEff=0,a.midEff=0,a.broadEff=0,a.collisions=0,a.buckets=0,a.pairs=0,a.bodies=0)},r.update=function(a,b){if(a.extended){var d=b.world,e=(b.broadphase[b.broadphase.current],c.allBodies(d));a.collisions=a.narrowDetections,a.pairs=b.pairs.list.length,a.bodies=e.length,a.midEff=(a.narrowDetections/(a.midphaseTests||1)).toFixed(2),a.narrowEff=(a.narrowDetections/(a.narrowphaseTests||1)).toFixed(2),a.broadEff=(1-a.broadphaseTests/(e.length||1)).toFixed(2),a.narrowReuse=(a.narrowReuseCount/(a.narrowphaseTests||1)).toFixed(2)}}}();var s;!function(){s=function(b){var c=this;this.element=b||document.body,this.absolute={x:0,y:0},this.position={x:0,y:0},this.mousedownPosition={x:0,y:0},this.mouseupPosition={x:0,y:0},this.offset={x:0,y:0},this.scale={x:1,y:1},this.wheelDelta=0,this.button=-1,this.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},this.mousemove=function(b){var d=a(b,c.element),e=b.changedTouches;e&&(c.button=0,b.preventDefault()),c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.sourceEvents.mousemove=b},this.mousedown=function(b){var d=a(b,c.element),e=b.changedTouches;e?(c.button=0,b.preventDefault()):c.button=b.button,c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mousedownPosition.x=c.position.x,c.mousedownPosition.y=c.position.y,c.sourceEvents.mousedown=b},this.mouseup=function(b){var d=a(b,c.element),e=b.changedTouches;e&&b.preventDefault(),c.button=-1,c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mouseupPosition.x=c.position.x,c.mouseupPosition.y=c.position.y,c.sourceEvents.mouseup=b},this.mousewheel=function(a){c.wheelDelta=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)),a.preventDefault()},s.setElement(c,c.element)},s.create=function(a){return new s(a)},s.setElement=function(a,b){a.element=b,b.addEventListener("mousemove",a.mousemove),b.addEventListener("mousedown",a.mousedown),b.addEventListener("mouseup",a.mouseup),b.addEventListener("mousewheel",a.mousewheel),b.addEventListener("DOMMouseScroll",a.mousewheel),b.addEventListener("touchmove",a.mousemove),b.addEventListener("touchstart",a.mousedown),b.addEventListener("touchend",a.mouseup)},s.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},s.setOffset=function(a,b){a.offset.x=b.x,a.offset.y=b.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s.setScale=function(a,b){a.scale.x=b.x,a.scale.y=b.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y};var a=function(a,b){var c,d,e=b.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,g=void 0!==window.pageXOffset?window.pageXOffset:f.scrollLeft,h=void 0!==window.pageYOffset?window.pageYOffset:f.scrollTop,i=a.changedTouches;return i?(c=i[0].pageX-e.left-g,d=i[0].pageY-e.top-h):(c=a.pageX-e.left-g,d=a.pageY-e.top-h),{x:c/(b.clientWidth/b.width),y:d/(b.clientHeight/b.height)}}}();var t={};!function(){var a=.18,b=.08,c=.9;t.update=function(a){for(var d=0;d<a.length;d++){var e=a[d],f=e.speed*e.speed+e.angularSpeed*e.angularSpeed;if(e.force.x>0||e.force.y>0)t.set(e,!1);else{var g=Math.min(e.motion,f),h=Math.max(e.motion,f);e.motion=c*g+(1-c)*h,e.sleepThreshold>0&&e.motion<b?(e.sleepCounter+=1,e.sleepCounter>=e.sleepThreshold&&t.set(e,!0)):e.sleepCounter>0&&(e.sleepCounter-=1)}}},t.afterCollisions=function(b){for(var c=0;c<b.length;c++){var d=b[c];if(d.isActive){var e=d.collision,f=e.bodyA,g=e.bodyB;if(!(f.isSleeping&&g.isSleeping||f.isStatic||g.isStatic)&&(f.isSleeping||g.isSleeping)){var h=f.isSleeping&&!f.isStatic?f:g,i=h===f?g:f;!h.isStatic&&i.motion>a&&t.set(h,!1)}}}},t.set=function(a,b){b?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0):(a.isSleeping=!1,a.sleepCounter=0)}}();var u={};!function(){u.rectangle=function(a,c,d,e,f){f=f||{};var g={label:"Rectangle Body",position:{x:a,y:c},vertices:z.fromPath("L 0 0 L "+d+" 0 L "+d+" "+e+" L 0 "+e)};if(f.chamfer){var h=f.chamfer;g.vertices=z.chamfer(g.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete f.chamfer}return b.create(o.extend({},g,f))},u.trapezoid=function(a,c,d,e,f,g){g=g||{},f*=.5;var h=(1-2*f)*d,i=d*f,j=i+h,k=j+i,l={label:"Trapezoid Body",position:{x:a,y:c},vertices:z.fromPath("L 0 0 L "+i+" "+-e+" L "+j+" "+-e+" L "+k+" 0")};
if(g.chamfer){var m=g.chamfer;l.vertices=z.chamfer(l.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete g.chamfer}return b.create(o.extend({},l,g))},u.circle=function(a,b,c,d,e){d=d||{},d.label="Circle Body",e=e||25;var f=Math.ceil(Math.max(10,Math.min(e,c)));return f%2===1&&(f+=1),d.circleRadius=c,u.polygon(a,b,f,c,d)},u.polygon=function(a,c,d,e,f){if(f=f||{},3>d)return u.circle(a,c,e,f);for(var g=2*Math.PI/d,h="",i=.5*g,j=0;d>j;j+=1){var k=i+j*g,l=Math.cos(k)*e,m=Math.sin(k)*e;h+="L "+l.toFixed(3)+" "+m.toFixed(3)+" "}var n={label:"Polygon Body",position:{x:a,y:c},vertices:z.fromPath(h)};if(f.chamfer){var p=f.chamfer;n.vertices=z.chamfer(n.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete f.chamfer}return b.create(o.extend({},n,f))}}();var v={};!function(){v.stack=function(a,d,e,f,g,h,i){for(var j,k=c.create({label:"Stack"}),l=a,m=d,n=0,o=0;f>o;o++){for(var p=0,q=0;e>q;q++){var r=i(l,m,q,o,j,n);if(r){var s=r.bounds.max.y-r.bounds.min.y,t=r.bounds.max.x-r.bounds.min.x;s>p&&(p=s),b.translate(r,{x:.5*t,y:.5*s}),l=r.bounds.max.x+g,c.addBody(k,r),j=r,n+=1}}m+=p+h,l=a}return k},v.chain=function(a,b,d,e,f,g){for(var h=a.bodies,i=1;i<h.length;i++){var j=h[i-1],k=h[i],l=j.bounds.max.y-j.bounds.min.y,n=j.bounds.max.x-j.bounds.min.x,p=k.bounds.max.y-k.bounds.min.y,q=k.bounds.max.x-k.bounds.min.x,r={bodyA:j,pointA:{x:n*b,y:l*d},bodyB:k,pointB:{x:q*e,y:p*f}},s=o.extend(r,g);c.addConstraint(a,m.create(s))}return a.label+=" Chain",a},v.mesh=function(a,b,d,e,f){var g,h,i,j,k,l=a.bodies;for(g=0;d>g;g++){for(h=0;b>h;h++)h>0&&(i=l[h-1+g*b],j=l[h+g*b],c.addConstraint(a,m.create(o.extend({bodyA:i,bodyB:j},f))));for(h=0;b>h;h++)g>0&&(i=l[h+(g-1)*b],j=l[h+g*b],c.addConstraint(a,m.create(o.extend({bodyA:i,bodyB:j},f))),e&&h>0&&(k=l[h-1+(g-1)*b],c.addConstraint(a,m.create(o.extend({bodyA:k,bodyB:j},f)))),e&&b-1>h&&(k=l[h+1+(g-1)*b],c.addConstraint(a,m.create(o.extend({bodyA:k,bodyB:j},f)))))}return a.label+=" Mesh",a},v.pyramid=function(a,c,d,e,f,g,h){return v.stack(a,c,d,e,f,g,function(c,g,i,j,k,l){var m=Math.min(e,Math.ceil(d/2)),n=k?k.bounds.max.x-k.bounds.min.x:0;if(!(j>m)){j=m-j;var o=j,p=d-1-j;if(!(o>i||i>p)){1===l&&b.translate(k,{x:(i+(d%2===1?1:-1))*n,y:0});var q=k?i*n:0;return h(a+q+i*f,g,i,j,k,l)}}})},v.newtonsCradle=function(a,b,d,e,f){for(var g=c.create({label:"Newtons Cradle"}),h=0;d>h;h++){var i=1.9,j=u.circle(a+h*e*i,b+f,e,{inertia:99999,restitution:1,friction:0,frictionAir:1e-4,slop:.01}),k=m.create({pointA:{x:a+h*e*i,y:b},bodyB:j});c.addBody(g,j),c.addConstraint(g,k)}return g},v.car=function(a,d,e,f,g){var h=b.nextGroupId(),i=-20,j=.5*-e+i,k=.5*e-i,l=0,n=c.create({label:"Car"}),o=u.trapezoid(a,d,e,f,.3,{groupId:h,friction:.01,chamfer:{radius:10}}),p=u.circle(a+j,d+l,g,{groupId:h,restitution:.5,friction:.9,density:.01}),q=u.circle(a+k,d+l,g,{groupId:h,restitution:.5,friction:.9,density:.01}),r=m.create({bodyA:o,pointA:{x:j,y:l},bodyB:p,stiffness:.5}),s=m.create({bodyA:o,pointA:{x:k,y:l},bodyB:q,stiffness:.5});return c.addBody(n,o),c.addBody(n,p),c.addBody(n,q),c.addConstraint(n,r),c.addConstraint(n,s),n},v.softBody=function(a,b,c,d,e,f,g,h,i,j){i=o.extend({inertia:1/0},i),j=o.extend({stiffness:.4},j);var k=v.stack(a,b,c,d,e,f,function(a,b){return u.circle(a,b,h,i)});return v.mesh(k,c,d,g,j),k.label="Soft Body",k}}();var w={};!function(){w.fromVertices=function(a){for(var b={},c=0;c<a.length;c++){var d=(c+1)%a.length,e=y.normalise({x:a[d].y-a[c].y,y:a[c].x-a[d].x}),f=0===e.y?1/0:e.x/e.y;f=f.toFixed(3).toString(),b[f]=e}return o.values(b)},w.rotate=function(a,b){if(0!==b)for(var c=Math.cos(b),d=Math.sin(b),e=0;e<a.length;e++){var f,g=a[e];f=g.x*c-g.y*d,g.y=g.x*d+g.y*c,g.x=f}}}();var x={};!function(){x.create=function(a){var b={min:{x:0,y:0},max:{x:0,y:0}};return a&&x.update(b,a),b},x.update=function(a,b,c){a.min.x=Number.MAX_VALUE,a.max.x=Number.MIN_VALUE,a.min.y=Number.MAX_VALUE,a.max.y=Number.MIN_VALUE;for(var d=0;d<b.length;d++){var e=b[d];e.x>a.max.x&&(a.max.x=e.x),e.x<a.min.x&&(a.min.x=e.x),e.y>a.max.y&&(a.max.y=e.y),e.y<a.min.y&&(a.min.y=e.y)}c&&(c.x>0?a.max.x+=c.x:a.min.x+=c.x,c.y>0?a.max.y+=c.y:a.min.y+=c.y)},x.contains=function(a,b){return b.x>=a.min.x&&b.x<=a.max.x&&b.y>=a.min.y&&b.y<=a.max.y},x.overlaps=function(a,b){return a.min.x<=b.max.x&&a.max.x>=b.min.x&&a.max.y>=b.min.y&&a.min.y<=b.max.y},x.translate=function(a,b){a.min.x+=b.x,a.max.x+=b.x,a.min.y+=b.y,a.max.y+=b.y},x.shift=function(a,b){var c=a.max.x-a.min.x,d=a.max.y-a.min.y;a.min.x=b.x,a.max.x=b.x+c,a.min.y=b.y,a.max.y=b.y+d}}();var y={};!function(){y.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},y.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},y.rotate=function(a,b){var c=Math.cos(b),d=Math.sin(b);return{x:a.x*c-a.y*d,y:a.x*d+a.y*c}},y.rotateAbout=function(a,b,c){var d=Math.cos(b),e=Math.sin(b);return{x:c.x+((a.x-c.x)*d-(a.y-c.y)*e),y:c.y+((a.x-c.x)*e+(a.y-c.y)*d)}},y.normalise=function(a){var b=y.magnitude(a);return 0===b?{x:0,y:0}:{x:a.x/b,y:a.y/b}},y.dot=function(a,b){return a.x*b.x+a.y*b.y},y.cross=function(a,b){return a.x*b.y-a.y*b.x},y.add=function(a,b){return{x:a.x+b.x,y:a.y+b.y}},y.sub=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},y.mult=function(a,b){return{x:a.x*b,y:a.y*b}},y.div=function(a,b){return{x:a.x/b,y:a.y/b}},y.perp=function(a,b){return b=b===!0?-1:1,{x:b*-a.y,y:b*a.x}},y.neg=function(a){return{x:-a.x,y:-a.y}},y.angle=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)}}();var z={};!function(){z.create=function(a,b){for(var c=0;c<a.length;c++)a[c].index=c,a[c].body=b},z.fromPath=function(a){var b=/L\s*([\-\d\.]*)\s*([\-\d\.]*)/gi,c=[];return a.replace(b,function(a,b,d){c.push({x:parseFloat(b,10),y:parseFloat(d,10)})}),c},z.centre=function(a){for(var b,c,d,e=z.area(a,!0),f={x:0,y:0},g=0;g<a.length;g++)d=(g+1)%a.length,b=y.cross(a[g],a[d]),c=y.mult(y.add(a[g],a[d]),b),f=y.add(f,c);return y.div(f,6*e)},z.area=function(a,b){for(var c=0,d=a.length-1,e=0;e<a.length;e++)c+=(a[d].x-a[e].x)*(a[d].y+a[e].y),d=e;return b?c/2:Math.abs(c)/2},z.inertia=function(a,b){for(var c,d,e=0,f=0,g=a,h=0;h<g.length;h++)d=(h+1)%g.length,c=Math.abs(y.cross(g[d],g[h])),e+=c*(y.dot(g[d],g[d])+y.dot(g[d],g[h])+y.dot(g[h],g[h])),f+=c;return b/6*(e/f)},z.translate=function(a,b,c){var d;if(c)for(d=0;d<a.length;d++)a[d].x+=b.x*c,a[d].y+=b.y*c;else for(d=0;d<a.length;d++)a[d].x+=b.x,a[d].y+=b.y},z.rotate=function(a,b,c){if(0!==b)for(var d=Math.cos(b),e=Math.sin(b),f=0;f<a.length;f++){var g=a[f],h=g.x-c.x,i=g.y-c.y;g.x=c.x+(h*d-i*e),g.y=c.y+(h*e+i*d)}},z.contains=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=a[(c+1)%a.length];if((b.x-d.x)*(e.y-d.y)+(b.y-d.y)*(d.x-e.x)>0)return!1}return!0},z.scale=function(a,b,c,d){if(1===b&&1===c)return a;d=d||z.centre(a);for(var e,f,g=0;g<a.length;g++)e=a[g],f=y.sub(e,d),a[g].x=d.x+f.x*b,a[g].y=d.y+f.y*c;return a},z.chamfer=function(a,b,c,d,e){b=b||[8],b.length||(b=[b]),c="undefined"!=typeof c?c:-1,d=d||2,e=e||14;for(var f=(z.centre(a),[]),g=0;g<a.length;g++){var h=a[g-1>=0?g-1:a.length-1],i=a[g],j=a[(g+1)%a.length],k=b[g<b.length?g:b.length-1];if(0!==k){var l=y.normalise({x:i.y-h.y,y:h.x-i.x}),m=y.normalise({x:j.y-i.y,y:i.x-j.x}),n=Math.sqrt(2*Math.pow(k,2)),p=y.mult(o.clone(l),k),q=y.normalise(y.mult(y.add(l,m),.5)),r=y.sub(i,y.mult(q,n)),s=c;-1===c&&(s=1.75*Math.pow(k,.32)),s=o.clamp(s,d,e),s%2===1&&(s+=1);for(var t=Math.acos(y.dot(l,m)),u=t/s,v=0;s>v;v++)f.push(y.add(y.rotate(p,u*v),r))}else f.push(i)}return f}}();var A={};!function(){A.create=function(b){var c={controller:A,element:null,canvas:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},d=o.extend(c,b);return d.canvas=d.canvas||a(d.options.width,d.options.height),d.context=d.canvas.getContext("2d"),d.textures={},d.bounds=d.bounds||{min:{x:0,y:0},max:{x:d.options.width,y:d.options.height}},A.setBackground(d,d.options.background),o.isElement(d.element)?d.element.appendChild(d.canvas):o.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),d},A.clear=function(){},A.setBackground=function(a,b){if(a.currentBackground!==b){var c=b;/(jpg|gif|png)$/.test(b)&&(c="url("+b+")"),a.canvas.style.background=c,a.canvas.style.backgroundSize="contain",a.currentBackground=b}},A.world=function(a){var b,d=a.render,e=a.world,f=d.canvas,g=d.context,h=d.options,i=c.allBodies(e),j=c.allConstraints(e),k=[],l=[];h.wireframes?A.setBackground(d,h.wireframeBackground):A.setBackground(d,h.background),g.globalCompositeOperation="source-in",g.fillStyle="transparent",g.fillRect(0,0,f.width,f.height),g.globalCompositeOperation="source-over";var m=d.bounds.max.x-d.bounds.min.x,n=d.bounds.max.y-d.bounds.min.y,o=m/d.options.width,p=n/d.options.height;if(h.hasBounds){for(b=0;b<i.length;b++){var q=i[b];x.overlaps(q.bounds,d.bounds)&&k.push(q)}for(b=0;b<j.length;b++){var r=j[b],s=r.bodyA,t=r.bodyB,u=r.pointA,v=r.pointB;s&&(u=y.add(s.position,r.pointA)),t&&(v=y.add(t.position,r.pointB)),u&&v&&(x.contains(d.bounds,u)||x.contains(d.bounds,v))&&l.push(r)}g.scale(1/o,1/p),g.translate(-d.bounds.min.x,-d.bounds.min.y)}else l=j,k=i;!h.wireframes||a.enableSleeping&&h.showSleeping?A.bodies(a,k,g):A.bodyWireframes(a,k,g),h.showBounds&&A.bodyBounds(a,k,g),(h.showAxes||h.showAngleIndicator)&&A.bodyAxes(a,k,g),h.showPositions&&A.bodyPositions(a,k,g),h.showVelocity&&A.bodyVelocity(a,k,g),h.showIds&&A.bodyIds(a,k,g),h.showCollisions&&A.collisions(a,a.pairs.list,g),A.constraints(l,g),h.showBroadphase&&"grid"===a.broadphase.current&&A.grid(a,a.broadphase[a.broadphase.current].instance,g),h.showDebug&&A.debug(a,g),h.hasBounds&&g.setTransform(1,0,0,1,0,0)},A.debug=function(a,b){var d=b,e=a.world,f=a.render,h=f.options,i=c.allBodies(e),j="    ";if(a.timing.timestamp-(f.debugTimestamp||0)>=500){var k="";k+="fps: "+Math.round(a.timing.fps)+j,a.metrics.extended&&(k+="delta: "+a.timing.delta.toFixed(3)+j,k+="correction: "+a.timing.correction.toFixed(3)+j,k+="bodies: "+i.length+j,a.broadphase.controller===g&&(k+="buckets: "+a.metrics.buckets+j),k+="\n",k+="collisions: "+a.metrics.collisions+j,k+="pairs: "+a.pairs.list.length+j,k+="broad: "+a.metrics.broadEff+j,k+="mid: "+a.metrics.midEff+j,k+="narrow: "+a.metrics.narrowEff+j),f.debugString=k,f.debugTimestamp=a.timing.timestamp}if(f.debugString){d.font="12px Arial",d.fillStyle=h.wireframes?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)";for(var l=f.debugString.split("\n"),m=0;m<l.length;m++)d.fillText(l[m],50,50+18*m)}},A.constraints=function(a,b){for(var c=b,d=0;d<a.length;d++){var e=a[d];if(e.render.visible&&e.pointA&&e.pointB){var f=e.bodyA,g=e.bodyB;f?(c.beginPath(),c.moveTo(f.position.x+e.pointA.x,f.position.y+e.pointA.y)):(c.beginPath(),c.moveTo(e.pointA.x,e.pointA.y)),g?c.lineTo(g.position.x+e.pointB.x,g.position.y+e.pointB.y):c.lineTo(e.pointB.x,e.pointB.y),c.lineWidth=e.render.lineWidth,c.strokeStyle=e.render.strokeStyle,c.stroke()}}},A.bodyShadows=function(a,b,c){for(var d=c,e=a.render,f=(e.options,0);f<b.length;f++){var g=b[f];if(g.render.visible){if(g.circleRadius)d.beginPath(),d.arc(g.position.x,g.position.y,g.circleRadius,0,2*Math.PI),d.closePath();else{d.beginPath(),d.moveTo(g.vertices[0].x,g.vertices[0].y);for(var h=1;h<g.vertices.length;h++)d.lineTo(g.vertices[h].x,g.vertices[h].y);d.closePath()}var i=g.position.x-.5*e.options.width,j=g.position.y-.2*e.options.height,k=Math.abs(i)+Math.abs(j);d.shadowColor="rgba(0,0,0,0.15)",d.shadowOffsetX=.05*i,d.shadowOffsetY=.05*j,d.shadowBlur=1+12*Math.min(1,k/1e3),d.fill(),d.shadowColor=null,d.shadowOffsetX=null,d.shadowOffsetY=null,d.shadowBlur=null}}},A.bodies=function(a,c,d){var e,f=d,g=a.render,h=g.options;for(e=0;e<c.length;e++){var i=c[e];if(i.render.visible)if(i.render.sprite&&i.render.sprite.texture&&!h.wireframes){var j=i.render.sprite,k=b(g,j.texture);h.showSleeping&&i.isSleeping&&(f.globalAlpha=.5),f.translate(i.position.x,i.position.y),f.rotate(i.angle),f.drawImage(k,k.width*-.5*j.xScale,k.height*-.5*j.yScale,k.width*j.xScale,k.height*j.yScale),f.rotate(-i.angle),f.translate(-i.position.x,-i.position.y),h.showSleeping&&i.isSleeping&&(f.globalAlpha=1)}else{if(i.circleRadius)f.beginPath(),f.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{f.beginPath(),f.moveTo(i.vertices[0].x,i.vertices[0].y);for(var l=1;l<i.vertices.length;l++)f.lineTo(i.vertices[l].x,i.vertices[l].y);f.closePath()}h.wireframes?(f.lineWidth=1,f.strokeStyle="#bbb",h.showSleeping&&i.isSleeping&&(f.strokeStyle="rgba(255,255,255,0.2)"),f.stroke()):(f.fillStyle=h.showSleeping&&i.isSleeping?o.shadeColor(i.render.fillStyle,50):i.render.fillStyle,f.lineWidth=i.render.lineWidth,f.strokeStyle=i.render.strokeStyle,f.fill(),f.stroke())}}},A.bodyWireframes=function(a,b,c){var d,e,f=c;for(f.beginPath(),d=0;d<b.length;d++){var g=b[d];if(g.render.visible){for(f.moveTo(g.vertices[0].x,g.vertices[0].y),e=1;e<g.vertices.length;e++)f.lineTo(g.vertices[e].x,g.vertices[e].y);f.lineTo(g.vertices[0].x,g.vertices[0].y)}}f.lineWidth=1,f.strokeStyle="#bbb",f.stroke()},A.bodyBounds=function(a,b,c){var d=c,e=a.render,f=e.options;d.beginPath();for(var g=0;g<b.length;g++){var h=b[g];h.render.visible&&d.rect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}d.strokeStyle=f.wireframes?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.1)",d.lineWidth=1,d.stroke()},A.bodyAxes=function(a,b,c){var d,e,f=c,g=a.render,h=g.options;for(f.beginPath(),d=0;d<b.length;d++){var i=b[d];if(i.render.visible)if(h.showAxes)for(e=0;e<i.axes.length;e++){var j=i.axes[e];f.moveTo(i.position.x,i.position.y),f.lineTo(i.position.x+20*j.x,i.position.y+20*j.y)}else f.moveTo(i.position.x,i.position.y),f.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}f.strokeStyle=h.wireframes?"indianred":"rgba(0,0,0,0.3)",f.lineWidth=1,f.stroke()},A.bodyPositions=function(a,b,c){var d,e,f=c,g=a.render,h=g.options;for(f.beginPath(),e=0;e<b.length;e++)d=b[e],d.render.visible&&(f.arc(d.position.x,d.position.y,3,0,2*Math.PI,!1),f.closePath());for(f.fillStyle=h.wireframes?"indianred":"rgba(0,0,0,0.5)",f.fill(),f.beginPath(),e=0;e<b.length;e++)d=b[e],d.render.visible&&(f.arc(d.positionPrev.x,d.positionPrev.y,2,0,2*Math.PI,!1),f.closePath());f.fillStyle="rgba(255,165,0,0.8)",f.fill()},A.bodyVelocity=function(a,b,c){{var d=c,e=a.render;e.options}d.beginPath();for(var f=0;f<b.length;f++){var g=b[f];g.render.visible&&(d.moveTo(g.position.x,g.position.y),d.lineTo(g.position.x+2*(g.position.x-g.positionPrev.x),g.position.y+2*(g.position.y-g.positionPrev.y)))}d.lineWidth=3,d.strokeStyle="cornflowerblue",d.stroke()},A.bodyIds=function(a,b,c){for(var d=c,e=0;e<b.length;e++){var f=b[e];f.render.visible&&(d.font="12px Arial",d.fillStyle="rgba(255,255,255,0.5)",d.fillText(f.id,f.position.x+10,f.position.y-10))}},A.collisions=function(a,b,c){var d,e,f,g,h=c,i=a.render.options;for(h.beginPath(),f=0;f<b.length;f++)for(d=b[f],e=d.collision,g=0;g<d.activeContacts.length;g++){var j=d.activeContacts[g],k=j.vertex;h.rect(k.x-1.5,k.y-1.5,3.5,3.5)}for(h.fillStyle=i.wireframes?"rgba(255,255,255,0.7)":"orange",h.fill(),h.beginPath(),f=0;f<b.length;f++)if(d=b[f],e=d.collision,d.activeContacts.length>0){var l=d.activeContacts[0].vertex.x,m=d.activeContacts[0].vertex.y;2===d.activeContacts.length&&(l=(d.activeContacts[0].vertex.x+d.activeContacts[1].vertex.x)/2,m=(d.activeContacts[0].vertex.y+d.activeContacts[1].vertex.y)/2),h.moveTo(l-8*e.normal.x,m-8*e.normal.y),h.lineTo(l,m)}h.strokeStyle=i.wireframes?"rgba(255,165,0,0.7)":"orange",h.lineWidth=1,h.stroke()},A.grid=function(a,b,c){var d=c,e=a.render.options;d.strokeStyle=e.wireframes?"rgba(255,180,0,0.1)":"rgba(255,180,0,0.5)",d.beginPath();for(var f=o.keys(b.buckets),g=0;g<f.length;g++){var h=f[g];if(!(b.buckets[h].length<2)){var i=h.split(",");d.rect(.5+parseInt(i[0],10)*b.bucketWidth,.5+parseInt(i[1],10)*b.bucketHeight,b.bucketWidth,b.bucketHeight)}}d.lineWidth=1,d.stroke()},A.inspector=function(a,b){var c,d=a.engine,e=(d.input.mouse,a.selected),f=d.render,g=f.options;if(g.hasBounds){var h=f.bounds.max.x-f.bounds.min.x,i=f.bounds.max.y-f.bounds.min.y,j=h/f.options.width,k=i/f.options.height;b.scale(1/j,1/k),b.translate(-f.bounds.min.x,-f.bounds.min.y)}for(var l=0;l<e.length;l++){var m=e[l].data;switch(b.translate(.5,.5),b.lineWidth=1,b.strokeStyle="rgba(255,165,0,0.9)",b.setLineDash([1,2]),m.type){case"body":c=m.bounds,b.beginPath(),b.rect(Math.floor(c.min.x-3),Math.floor(c.min.y-3),Math.floor(c.max.x-c.min.x+6),Math.floor(c.max.y-c.min.y+6)),b.closePath(),b.stroke();break;case"constraint":var n=m.pointA;m.bodyA&&(n=m.pointB),b.beginPath(),b.arc(n.x,n.y,10,0,2*Math.PI),b.closePath(),b.stroke()}b.setLineDash([0]),b.translate(-.5,-.5)}null!==a.selectStart&&(b.translate(.5,.5),b.lineWidth=1,b.strokeStyle="rgba(255,165,0,0.6)",b.fillStyle="rgba(255,165,0,0.1)",c=a.selectBounds,b.beginPath(),b.rect(Math.floor(c.min.x),Math.floor(c.min.y),Math.floor(c.max.x-c.min.x),Math.floor(c.max.y-c.min.y)),b.closePath(),b.stroke(),b.fill(),b.translate(-.5,-.5)),g.hasBounds&&b.setTransform(1,0,0,1,0,0)};var a=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c.oncontextmenu=function(){return!1},c.onselectstart=function(){return!1},c},b=function(a,b){var c=a.textures[b];return c?c:(c=a.textures[b]=new Image,c.src=b,c)}}();var B={};!function(){B.create=function(a){var b={controller:B,element:null,canvas:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},c=o.extend(b,a);return c.context=new PIXI.WebGLRenderer(800,600,c.canvas,!1,!0),c.canvas=c.context.view,c.stage=new PIXI.Stage,c.textures={},c.sprites={},c.primitives={},c.spriteBatch=new PIXI.SpriteBatch,c.stage.addChild(c.spriteBatch),o.isElement(c.element)?c.element.appendChild(c.canvas):o.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),c.canvas.oncontextmenu=function(){return!1},c.canvas.onselectstart=function(){return!1},c},B.clear=function(a){for(var b=a.stage,c=a.spriteBatch;b.children[0];)b.removeChild(b.children[0]);for(;c.children[0];)c.removeChild(c.children[0]);var d=a.sprites["bg-0"];a.textures={},a.sprites={},a.primitives={},a.sprites["bg-0"]=d,d&&c.addChildAt(d,0),a.stage.addChild(a.spriteBatch),a.currentBackground=null},B.setBackground=function(a,b){if(a.currentBackground!==b){var c=b.indexOf&&-1!==b.indexOf("#"),e=a.sprites["bg-0"];if(c){var f=o.colorToNumber(b);a.stage.setBackgroundColor(f),e&&a.spriteBatch.removeChild(e)}else if(!e){var g=d(a,b);e=a.sprites["bg-0"]=new PIXI.Sprite(g),e.position.x=0,e.position.y=0,a.spriteBatch.addChildAt(e,0)}a.currentBackground=b}},B.world=function(a){var b,d=a.render,e=a.world,f=d.context,g=d.stage,h=d.options,i=c.allBodies(e),j=c.allConstraints(e);for(h.wireframes?B.setBackground(d,h.wireframeBackground):B.setBackground(d,h.background),b=0;b<i.length;b++)B.body(a,i[b]);for(b=0;b<j.length;b++)B.constraint(a,j[b]);f.render(g)},B.constraint=function(a,b){var c=a.render,d=b.bodyA,e=b.bodyB,f=b.pointA,g=b.pointB,h=c.stage,i=b.render,j="c-"+b.id,k=c.primitives[j];return k||(k=c.primitives[j]=new PIXI.Graphics),i.visible&&b.pointA&&b.pointB?(-1===h.children.indexOf(k)&&h.addChild(k),k.clear(),k.beginFill(0,0),k.lineStyle(i.lineWidth,o.colorToNumber(i.strokeStyle),1),d?k.moveTo(d.position.x+f.x,d.position.y+f.y):k.moveTo(f.x,f.y),e?k.lineTo(e.position.x+g.x,e.position.y+g.y):k.lineTo(g.x,g.y),void k.endFill()):void k.clear()},B.body=function(c,d){var e=c.render,f=d.render;if(f.visible)if(f.sprite&&f.sprite.texture){var g="b-"+d.id,h=e.sprites[g],i=e.spriteBatch;h||(h=e.sprites[g]=a(e,d)),-1===i.children.indexOf(h)&&i.addChild(h),h.position.x=d.position.x,h.position.y=d.position.y,h.rotation=d.angle}else{var j="b-"+d.id,k=e.primitives[j],l=e.stage;k||(k=e.primitives[j]=b(e,d),k.initialAngle=d.angle),-1===l.children.indexOf(k)&&l.addChild(k),k.position.x=d.position.x,k.position.y=d.position.y,k.rotation=d.angle-k.initialAngle}};var a=function(a,b){var c=b.render,e=c.sprite.texture,f=d(a,e),g=new PIXI.Sprite(f);return g.anchor.x=.5,g.anchor.y=.5,g},b=function(a,b){var c=b.render,d=a.options,e=new PIXI.Graphics;e.clear(),d.wireframes?(e.beginFill(0,0),e.lineStyle(1,o.colorToNumber("#bbb"),1)):(e.beginFill(o.colorToNumber(c.fillStyle),1),e.lineStyle(b.render.lineWidth,o.colorToNumber(c.strokeStyle),1)),e.moveTo(b.vertices[0].x-b.position.x,b.vertices[0].y-b.position.y);for(var f=1;f<b.vertices.length;f++)e.lineTo(b.vertices[f].x-b.position.x,b.vertices[f].y-b.position.y);return e.lineTo(b.vertices[0].x-b.position.x,b.vertices[0].y-b.position.y),e.endFill(),(d.showAngleIndicator||d.showAxes)&&(e.beginFill(0,0),d.wireframes?e.lineStyle(1,o.colorToNumber("#CD5C5C"),1):e.lineStyle(1,o.colorToNumber(b.render.strokeStyle)),e.moveTo(0,0),e.lineTo((b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2-b.position.x,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2-b.position.y),e.endFill()),e},d=function(a,b){var c=a.textures[b];return c||(c=a.textures[b]=PIXI.Texture.fromImage(b)),c}}(),d.add=c.add,d.remove=c.remove,d.addComposite=c.addComposite,d.addBody=c.addBody,d.addConstraint=c.addConstraint,d.clear=c.clear,a.Body=b,a.Composite=c,a.World=d,a.Contact=e,a.Detector=f,a.Grid=g,a.Pairs=i,a.Pair=h,a.Resolver=k,a.SAT=l,a.Constraint=m,a.MouseConstraint=n,a.Common=o,a.Engine=p,a.Metrics=r,a.Mouse=s,a.Sleeping=t,a.Bodies=u,a.Composites=v,a.Axes=w,a.Bounds=x,a.Vector=y,a.Vertices=z,a.Render=A,a.RenderPixi=B,a.Events=q,a.Query=j,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.Matter=a),"function"==typeof define&&define.amd&&define("Matter",[],function(){return a}),"object"==typeof window&&"object"==typeof window.document&&(window.Matter=a)}();
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy5ub2RlYnJldy9ub2RlL3Y0LjAuMC9saWIvbm9kZV9tb2R1bGVzL3dhdGNoaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJtYWluLmpzIiwibm9kZV9tb2R1bGVzL21hdHRlci1qcy9idWlsZC9tYXR0ZXItMC44LjAubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJyZXF1aXJlKFwibWF0dGVyLWpzXCIpO1xuXG52YXIgRW5naW5lID0gTWF0dGVyLkVuZ2luZSxcbiAgICBXb3JsZCA9IE1hdHRlci5Xb3JsZCxcbiAgICBCb2RpZXMgPSBNYXR0ZXIuQm9kaWVzLFxuXHRNb3VzZUNvbnN0cmFpbnQgPSBNYXR0ZXIuTW91c2VDb25zdHJhaW50O1xuXG52YXIgZW5naW5lID0gRW5naW5lLmNyZWF0ZShkb2N1bWVudC5ib2R5LCB7XG5cdHJlbmRlcjoge1xuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHdpcmVmcmFtZXM6IGZhbHNlXG5cdFx0fVxuXHR9XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlU3VzaGkoeCwgeSl7XG5cdHJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIDI0LCB7XG5cdFx0cmVuZGVyOiB7XG5cdFx0XHRzcHJpdGU6IHtcblx0XHRcdFx0dGV4dHVyZTogXCJodHRwOi8vZW1vamkuZmlsZWZvcm1hdC5pbmZvL2dlbW9qaS9zdXNoaS5wbmdcIlxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFJhbmRvbVN1c2hpKFdvcmxkKXtcblx0dmFyIHN1c2hpID0gY3JlYXRlU3VzaGkoNDAwICsgTWF0aC5yYW5kb20oKSAqIDEwMCAtIDUwLCAtMTAwKTtcblx0V29ybGQuYWRkKGVuZ2luZS53b3JsZCwgW3N1c2hpXSk7XG59XG5cbnZhciBvZmZzZXQgPSAxMDtcbldvcmxkLmFkZChlbmdpbmUud29ybGQsIFtcbiAgLy9Cb2RpZXMucmVjdGFuZ2xlKDQwMCwgLW9mZnNldCwgODAwICsgMiAqIG9mZnNldCwgNTAsIHsgaXNTdGF0aWM6IHRydWUgfSksXG4gIEJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAgKyBvZmZzZXQsIDgwMCArIDIgKiBvZmZzZXQsIDUwLCB7IGlzU3RhdGljOiB0cnVlIH0pLFxuICBCb2RpZXMucmVjdGFuZ2xlKDgwMCArIG9mZnNldCwgMzAwLCA1MCwgNjAwICsgMiAqIG9mZnNldCwgeyBpc1N0YXRpYzogdHJ1ZSB9KSxcbiAgQm9kaWVzLnJlY3RhbmdsZSgtb2Zmc2V0LCAzMDAsIDUwLCA2MDAgKyAyICogb2Zmc2V0LCB7IGlzU3RhdGljOiB0cnVlIH0pXG5dKTtcblxudmFyIG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lKTtcblxuZm9yKHZhciBpID0gMDsgaSA8IDUwOyBpKyspe1xuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0YWRkUmFuZG9tU3VzaGkoV29ybGQpO1xuXHR9LCAxMDAgKiBpKTtcbn1cblxuXG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0YWRkUmFuZG9tU3VzaGkoV29ybGQpO1xuXHR9LCAxMDAwKVxufSwgNjAwMClcblxuV29ybGQuYWRkKGVuZ2luZS53b3JsZCwgbW91c2VDb25zdHJhaW50KTtcbi8vIHJ1biB0aGUgZW5naW5lXG5FbmdpbmUucnVuKGVuZ2luZSk7IiwiLyoqXHJcbiogbWF0dGVyLTAuOC4wLm1pbi5qcyAwLjguMC1hbHBoYSAyMDE0LTA1LTA0XHJcbiogaHR0cDovL2JybS5pby9tYXR0ZXItanMvXHJcbiogTGljZW5zZTogTUlUXHJcbiovXHJcblxyXG4hZnVuY3Rpb24oKXt2YXIgYT17fSxiPXt9OyFmdW5jdGlvbigpe3ZhciBhPTE7Yi5jcmVhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9e2lkOm8ubmV4dElkKCksdHlwZTpcImJvZHlcIixsYWJlbDpcIkJvZHlcIixhbmdsZTowLHZlcnRpY2VzOnouZnJvbVBhdGgoXCJMIDAgMCBMIDQwIDAgTCA0MCA0MCBMIDAgNDBcIikscG9zaXRpb246e3g6MCx5OjB9LGZvcmNlOnt4OjAseTowfSx0b3JxdWU6MCxwb3NpdGlvbkltcHVsc2U6e3g6MCx5OjB9LGNvbnN0cmFpbnRJbXB1bHNlOnt4OjAseTowLGFuZ2xlOjB9LHNwZWVkOjAsYW5ndWxhclNwZWVkOjAsdmVsb2NpdHk6e3g6MCx5OjB9LGFuZ3VsYXJWZWxvY2l0eTowLGlzU3RhdGljOiExLGlzU2xlZXBpbmc6ITEsbW90aW9uOjAsc2xlZXBUaHJlc2hvbGQ6NjAsZGVuc2l0eTouMDAxLHJlc3RpdHV0aW9uOjAsZnJpY3Rpb246LjEsZnJpY3Rpb25BaXI6LjAxLGdyb3VwSWQ6MCxzbG9wOi4wNSx0aW1lU2NhbGU6MSxyZW5kZXI6e3Zpc2libGU6ITAsc3ByaXRlOnt4U2NhbGU6MSx5U2NhbGU6MX0sbGluZVdpZHRoOjEuNX19LGQ9by5leHRlbmQoYixhKTtyZXR1cm4gYyhkKSxkfSxiLm5leHRHcm91cElkPWZ1bmN0aW9uKCl7cmV0dXJuIGErK307dmFyIGM9ZnVuY3Rpb24oYSl7YS5heGVzPWEuYXhlc3x8dy5mcm9tVmVydGljZXMoYS52ZXJ0aWNlcyksYS5hcmVhPXouYXJlYShhLnZlcnRpY2VzKSxhLmJvdW5kcz14LmNyZWF0ZShhLnZlcnRpY2VzKSxhLm1hc3M9YS5tYXNzfHxhLmRlbnNpdHkqYS5hcmVhLGEuaW52ZXJzZU1hc3M9MS9hLm1hc3MsYS5pbmVydGlhPWEuaW5lcnRpYXx8ei5pbmVydGlhKGEudmVydGljZXMsYS5tYXNzKSxhLmludmVyc2VJbmVydGlhPTEvYS5pbmVydGlhLGEucG9zaXRpb25QcmV2PWEucG9zaXRpb25QcmV2fHx7eDphLnBvc2l0aW9uLngseTphLnBvc2l0aW9uLnl9LGEuYW5nbGVQcmV2PWEuYW5nbGVQcmV2fHxhLmFuZ2xlLGEucmVuZGVyLmZpbGxTdHlsZT1hLnJlbmRlci5maWxsU3R5bGV8fChhLmlzU3RhdGljP1wiI2VlZWVlZVwiOm8uY2hvb3NlKFtcIiM1NTYyNzBcIixcIiM0RUNEQzRcIixcIiNDN0Y0NjRcIixcIiNGRjZCNkJcIixcIiNDNDRENThcIl0pKSxhLnJlbmRlci5zdHJva2VTdHlsZT1hLnJlbmRlci5zdHJva2VTdHlsZXx8by5zaGFkZUNvbG9yKGEucmVuZGVyLmZpbGxTdHlsZSwtMjApLHouY3JlYXRlKGEudmVydGljZXMsYSk7dmFyIGM9ei5jZW50cmUoYS52ZXJ0aWNlcyk7ei50cmFuc2xhdGUoYS52ZXJ0aWNlcyxhLnBvc2l0aW9uKSx6LnRyYW5zbGF0ZShhLnZlcnRpY2VzLGMsLTEpLHoucm90YXRlKGEudmVydGljZXMsYS5hbmdsZSxhLnBvc2l0aW9uKSx3LnJvdGF0ZShhLmF4ZXMsYS5hbmdsZSkseC51cGRhdGUoYS5ib3VuZHMsYS52ZXJ0aWNlcyxhLnZlbG9jaXR5KSxiLnNldFN0YXRpYyhhLGEuaXNTdGF0aWMpLHQuc2V0KGEsYS5pc1NsZWVwaW5nKX07Yi5zZXRTdGF0aWM9ZnVuY3Rpb24oYSxiKXthLmlzU3RhdGljPWIsYiYmKGEucmVzdGl0dXRpb249MCxhLmZyaWN0aW9uPTEsYS5tYXNzPWEuaW5lcnRpYT1hLmRlbnNpdHk9MS8wLGEuaW52ZXJzZU1hc3M9YS5pbnZlcnNlSW5lcnRpYT0wLGEucmVuZGVyLmxpbmVXaWR0aD0xLGEucG9zaXRpb25QcmV2Lng9YS5wb3NpdGlvbi54LGEucG9zaXRpb25QcmV2Lnk9YS5wb3NpdGlvbi55LGEuYW5nbGVQcmV2PWEuYW5nbGUsYS5hbmd1bGFyVmVsb2NpdHk9MCxhLnNwZWVkPTAsYS5hbmd1bGFyU3BlZWQ9MCxhLm1vdGlvbj0wKX0sYi5yZXNldEZvcmNlc0FsbD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtjLmZvcmNlLng9MCxjLmZvcmNlLnk9MCxjLnRvcnF1ZT0wfX0sYi5hcHBseUdyYXZpdHlBbGw9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXTtkLmlzU3RhdGljfHxkLmlzU2xlZXBpbmd8fChkLmZvcmNlLnkrPWQubWFzcypiLnkqLjAwMSxkLmZvcmNlLngrPWQubWFzcypiLngqLjAwMSl9fSxiLnVwZGF0ZUFsbD1mdW5jdGlvbihhLGMsZCxlLGYpe2Zvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaD1hW2ddO2guaXNTdGF0aWN8fGguaXNTbGVlcGluZ3x8aC5ib3VuZHMubWF4Lng8Zi5taW4ueHx8aC5ib3VuZHMubWluLng+Zi5tYXgueHx8aC5ib3VuZHMubWF4Lnk8Zi5taW4ueXx8aC5ib3VuZHMubWluLnk+Zi5tYXgueXx8Yi51cGRhdGUoaCxjLGQsZSl9fSxiLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1NYXRoLnBvdyhiKmMqYS50aW1lU2NhbGUsMiksZj0xLWEuZnJpY3Rpb25BaXIqYyphLnRpbWVTY2FsZSxnPWEucG9zaXRpb24ueC1hLnBvc2l0aW9uUHJldi54LGg9YS5wb3NpdGlvbi55LWEucG9zaXRpb25QcmV2Lnk7YS52ZWxvY2l0eS54PWcqZipkK2EuZm9yY2UueC9hLm1hc3MqZSxhLnZlbG9jaXR5Lnk9aCpmKmQrYS5mb3JjZS55L2EubWFzcyplLGEucG9zaXRpb25QcmV2Lng9YS5wb3NpdGlvbi54LGEucG9zaXRpb25QcmV2Lnk9YS5wb3NpdGlvbi55LGEucG9zaXRpb24ueCs9YS52ZWxvY2l0eS54LGEucG9zaXRpb24ueSs9YS52ZWxvY2l0eS55LGEuYW5ndWxhclZlbG9jaXR5PShhLmFuZ2xlLWEuYW5nbGVQcmV2KSpmKmQrYS50b3JxdWUvYS5pbmVydGlhKmUsYS5hbmdsZVByZXY9YS5hbmdsZSxhLmFuZ2xlKz1hLmFuZ3VsYXJWZWxvY2l0eSxhLnNwZWVkPXkubWFnbml0dWRlKGEudmVsb2NpdHkpLGEuYW5ndWxhclNwZWVkPU1hdGguYWJzKGEuYW5ndWxhclZlbG9jaXR5KSx6LnRyYW5zbGF0ZShhLnZlcnRpY2VzLGEudmVsb2NpdHkpLDAhPT1hLmFuZ3VsYXJWZWxvY2l0eSYmKHoucm90YXRlKGEudmVydGljZXMsYS5hbmd1bGFyVmVsb2NpdHksYS5wb3NpdGlvbiksdy5yb3RhdGUoYS5heGVzLGEuYW5ndWxhclZlbG9jaXR5KSkseC51cGRhdGUoYS5ib3VuZHMsYS52ZXJ0aWNlcyxhLnZlbG9jaXR5KX0sYi5hcHBseUZvcmNlPWZ1bmN0aW9uKGEsYixjKXthLmZvcmNlLngrPWMueCxhLmZvcmNlLnkrPWMueTt2YXIgZD17eDpiLngtYS5wb3NpdGlvbi54LHk6Yi55LWEucG9zaXRpb24ueX07YS50b3JxdWUrPShkLngqYy55LWQueSpjLngpKmEuaW52ZXJzZUluZXJ0aWF9LGIudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7YS5wb3NpdGlvblByZXYueCs9Yi54LGEucG9zaXRpb25QcmV2LnkrPWIueSxhLnBvc2l0aW9uLngrPWIueCxhLnBvc2l0aW9uLnkrPWIueSx6LnRyYW5zbGF0ZShhLnZlcnRpY2VzLGIpLHgudXBkYXRlKGEuYm91bmRzLGEudmVydGljZXMsYS52ZWxvY2l0eSl9LGIucm90YXRlPWZ1bmN0aW9uKGEsYil7YS5hbmdsZVByZXYrPWIsYS5hbmdsZSs9Yix6LnJvdGF0ZShhLnZlcnRpY2VzLGIsYS5wb3NpdGlvbiksdy5yb3RhdGUoYS5heGVzLGIpLHgudXBkYXRlKGEuYm91bmRzLGEudmVydGljZXMsYS52ZWxvY2l0eSl9LGIuc2NhbGU9ZnVuY3Rpb24oYSxiLGMsZCl7ei5zY2FsZShhLnZlcnRpY2VzLGIsYyxkKSxhLmF4ZXM9dy5mcm9tVmVydGljZXMoYS52ZXJ0aWNlcyksYS5hcmVhPXouYXJlYShhLnZlcnRpY2VzKSxhLm1hc3M9YS5kZW5zaXR5KmEuYXJlYSxhLmludmVyc2VNYXNzPTEvYS5tYXNzLHoudHJhbnNsYXRlKGEudmVydGljZXMse3g6LWEucG9zaXRpb24ueCx5Oi1hLnBvc2l0aW9uLnl9KSxhLmluZXJ0aWE9ei5pbmVydGlhKGEudmVydGljZXMsYS5tYXNzKSxhLmludmVyc2VJbmVydGlhPTEvYS5pbmVydGlhLHoudHJhbnNsYXRlKGEudmVydGljZXMse3g6YS5wb3NpdGlvbi54LHk6YS5wb3NpdGlvbi55fSkseC51cGRhdGUoYS5ib3VuZHMsYS52ZXJ0aWNlcyxhLnZlbG9jaXR5KX19KCk7dmFyIGM9e307IWZ1bmN0aW9uKCl7Yy5jcmVhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG8uZXh0ZW5kKHtpZDpvLm5leHRJZCgpLHR5cGU6XCJjb21wb3NpdGVcIixwYXJlbnQ6bnVsbCxpc01vZGlmaWVkOiExLGJvZGllczpbXSxjb25zdHJhaW50czpbXSxjb21wb3NpdGVzOltdLGxhYmVsOlwiQ29tcG9zaXRlXCJ9LGEpfSxjLnNldE1vZGlmaWVkPWZ1bmN0aW9uKGEsYixkLGUpe2lmKGEuaXNNb2RpZmllZD1iLGQmJmEucGFyZW50JiZjLnNldE1vZGlmaWVkKGEucGFyZW50LGIsZCxlKSxlKWZvcih2YXIgZj0wO2Y8YS5jb21wb3NpdGVzLmxlbmd0aDtmKyspe3ZhciBnPWEuY29tcG9zaXRlc1tmXTtjLnNldE1vZGlmaWVkKGcsYixkLGUpfX0sYy5hZGQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9W10uY29uY2F0KGIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtzd2l0Y2goZi50eXBlKXtjYXNlXCJib2R5XCI6Yy5hZGRCb2R5KGEsZik7YnJlYWs7Y2FzZVwiY29uc3RyYWludFwiOmMuYWRkQ29uc3RyYWludChhLGYpO2JyZWFrO2Nhc2VcImNvbXBvc2l0ZVwiOmMuYWRkQ29tcG9zaXRlKGEsZik7YnJlYWs7Y2FzZVwibW91c2VDb25zdHJhaW50XCI6Yy5hZGRDb25zdHJhaW50KGEsZi5jb25zdHJhaW50KX19cmV0dXJuIGF9LGMucmVtb3ZlPWZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGU9W10uY29uY2F0KGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtzd2l0Y2goZy50eXBlKXtjYXNlXCJib2R5XCI6Yy5yZW1vdmVCb2R5KGEsZyxkKTticmVhaztjYXNlXCJjb25zdHJhaW50XCI6Yy5yZW1vdmVDb25zdHJhaW50KGEsZyxkKTticmVhaztjYXNlXCJjb21wb3NpdGVcIjpjLnJlbW92ZUNvbXBvc2l0ZShhLGcsZCk7YnJlYWs7Y2FzZVwibW91c2VDb25zdHJhaW50XCI6Yy5yZW1vdmVDb25zdHJhaW50KGEsZy5jb25zdHJhaW50KX19cmV0dXJuIGF9LGMuYWRkQ29tcG9zaXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29tcG9zaXRlcy5wdXNoKGIpLGIucGFyZW50PWEsYy5zZXRNb2RpZmllZChhLCEwLCEwLCExKSxhfSxjLnJlbW92ZUNvbXBvc2l0ZT1mdW5jdGlvbihhLGIsZCl7dmFyIGU9YS5jb21wb3NpdGVzLmluZGV4T2YoYik7aWYoLTEhPT1lJiYoYy5yZW1vdmVDb21wb3NpdGVBdChhLGUpLGMuc2V0TW9kaWZpZWQoYSwhMCwhMCwhMSkpLGQpZm9yKHZhciBmPTA7ZjxhLmNvbXBvc2l0ZXMubGVuZ3RoO2YrKyljLnJlbW92ZUNvbXBvc2l0ZShhLmNvbXBvc2l0ZXNbZl0sYiwhMCk7cmV0dXJuIGF9LGMucmVtb3ZlQ29tcG9zaXRlQXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb21wb3NpdGVzLnNwbGljZShiLDEpLGMuc2V0TW9kaWZpZWQoYSwhMCwhMCwhMSksYX0sYy5hZGRCb2R5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYm9kaWVzLnB1c2goYiksYy5zZXRNb2RpZmllZChhLCEwLCEwLCExKSxhfSxjLnJlbW92ZUJvZHk9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEuYm9kaWVzLmluZGV4T2YoYik7aWYoLTEhPT1lJiYoYy5yZW1vdmVCb2R5QXQoYSxlKSxjLnNldE1vZGlmaWVkKGEsITAsITAsITEpKSxkKWZvcih2YXIgZj0wO2Y8YS5jb21wb3NpdGVzLmxlbmd0aDtmKyspYy5yZW1vdmVCb2R5KGEuY29tcG9zaXRlc1tmXSxiLCEwKTtyZXR1cm4gYX0sYy5yZW1vdmVCb2R5QXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ib2RpZXMuc3BsaWNlKGIsMSksYy5zZXRNb2RpZmllZChhLCEwLCEwLCExKSxhfSxjLmFkZENvbnN0cmFpbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25zdHJhaW50cy5wdXNoKGIpLGMuc2V0TW9kaWZpZWQoYSwhMCwhMCwhMSksYX0sYy5yZW1vdmVDb25zdHJhaW50PWZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLmNvbnN0cmFpbnRzLmluZGV4T2YoYik7aWYoLTEhPT1lJiZjLnJlbW92ZUNvbnN0cmFpbnRBdChhLGUpLGQpZm9yKHZhciBmPTA7ZjxhLmNvbXBvc2l0ZXMubGVuZ3RoO2YrKyljLnJlbW92ZUNvbnN0cmFpbnQoYS5jb21wb3NpdGVzW2ZdLGIsITApO3JldHVybiBhfSxjLnJlbW92ZUNvbnN0cmFpbnRBdD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbnN0cmFpbnRzLnNwbGljZShiLDEpLGMuc2V0TW9kaWZpZWQoYSwhMCwhMCwhMSksYX0sYy5jbGVhcj1mdW5jdGlvbihhLGIsZCl7aWYoZClmb3IodmFyIGU9MDtlPGEuY29tcG9zaXRlcy5sZW5ndGg7ZSsrKWMuY2xlYXIoYS5jb21wb3NpdGVzW2VdLGIsITApO3JldHVybiBiP2EuYm9kaWVzPWEuYm9kaWVzLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5pc1N0YXRpY30pOmEuYm9kaWVzLmxlbmd0aD0wLGEuY29uc3RyYWludHMubGVuZ3RoPTAsYS5jb21wb3NpdGVzLmxlbmd0aD0wLGMuc2V0TW9kaWZpZWQoYSwhMCwhMCwhMSksYX0sYy5hbGxCb2RpZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLmNvbmNhdChhLmJvZGllcyksZD0wO2Q8YS5jb21wb3NpdGVzLmxlbmd0aDtkKyspYj1iLmNvbmNhdChjLmFsbEJvZGllcyhhLmNvbXBvc2l0ZXNbZF0pKTtyZXR1cm4gYn0sYy5hbGxDb25zdHJhaW50cz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10uY29uY2F0KGEuY29uc3RyYWludHMpLGQ9MDtkPGEuY29tcG9zaXRlcy5sZW5ndGg7ZCsrKWI9Yi5jb25jYXQoYy5hbGxDb25zdHJhaW50cyhhLmNvbXBvc2l0ZXNbZF0pKTtyZXR1cm4gYn0sYy5hbGxDb21wb3NpdGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXS5jb25jYXQoYS5jb21wb3NpdGVzKSxkPTA7ZDxhLmNvbXBvc2l0ZXMubGVuZ3RoO2QrKyliPWIuY29uY2F0KGMuYWxsQ29tcG9zaXRlcyhhLmNvbXBvc2l0ZXNbZF0pKTtyZXR1cm4gYn0sYy5nZXQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7c3dpdGNoKGQpe2Nhc2VcImJvZHlcIjplPWMuYWxsQm9kaWVzKGEpO2JyZWFrO2Nhc2VcImNvbnN0cmFpbnRcIjplPWMuYWxsQ29uc3RyYWludHMoYSk7YnJlYWs7Y2FzZVwiY29tcG9zaXRlXCI6ZT1jLmFsbENvbXBvc2l0ZXMoYSkuY29uY2F0KGEpfXJldHVybiBlPyhmPWUuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlkLnRvU3RyaW5nKCk9PT1iLnRvU3RyaW5nKCl9KSwwPT09Zi5sZW5ndGg/bnVsbDpmWzBdKTpudWxsfSxjLm1vdmU9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLnJlbW92ZShhLGIpLGMuYWRkKGQsYiksYX0sYy5yZWJhc2U9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWMuYWxsQm9kaWVzKGEpLmNvbmNhdChjLmFsbENvbnN0cmFpbnRzKGEpKS5jb25jYXQoYy5hbGxDb21wb3NpdGVzKGEpKSxkPTA7ZDxiLmxlbmd0aDtkKyspYltkXS5pZD1vLm5leHRJZCgpO3JldHVybiBjLnNldE1vZGlmaWVkKGEsITAsITAsITEpLGF9fSgpO3ZhciBkPXt9OyFmdW5jdGlvbigpe2QuY3JlYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPWMuY3JlYXRlKCksZD17bGFiZWw6XCJXb3JsZFwiLGdyYXZpdHk6e3g6MCx5OjF9LGJvdW5kczp7bWluOnt4OjAseTowfSxtYXg6e3g6ODAwLHk6NjAwfX19O3JldHVybiBvLmV4dGVuZChiLGQsYSl9fSgpO3ZhciBlPXt9OyFmdW5jdGlvbigpe2UuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybntpZDplLmlkKGEpLHZlcnRleDphLG5vcm1hbEltcHVsc2U6MCx0YW5nZW50SW1wdWxzZTowfX0sZS5pZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5ib2R5LmlkK1wiX1wiK2EuaW5kZXh9fSgpO3ZhciBmPXt9OyFmdW5jdGlvbigpe2YuY29sbGlzaW9ucz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPWIubWV0cmljcyxlPWIucGFpcnMudGFibGUsZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZz1hW2ZdWzBdLGk9YVtmXVsxXTtpZighKGcuZ3JvdXBJZCYmaS5ncm91cElkJiZnLmdyb3VwSWQ9PT1pLmdyb3VwSWR8fChnLmlzU3RhdGljfHxnLmlzU2xlZXBpbmcpJiYoaS5pc1N0YXRpY3x8aS5pc1NsZWVwaW5nKXx8KGQubWlkcGhhc2VUZXN0cys9MSwheC5vdmVybGFwcyhnLmJvdW5kcyxpLmJvdW5kcykpKSl7dmFyIGosaz1oLmlkKGcsaSksbT1lW2tdO2o9bSYmbS5pc0FjdGl2ZT9tLmNvbGxpc2lvbjpudWxsO3ZhciBuPWwuY29sbGlkZXMoZyxpLGopO2QubmFycm93cGhhc2VUZXN0cys9MSxuLnJldXNlZCYmKGQubmFycm93UmV1c2VDb3VudCs9MSksbi5jb2xsaWRlZCYmKGMucHVzaChuKSxkLm5hcnJvd0RldGVjdGlvbnMrPTEpfX1yZXR1cm4gY30sZi5icnV0ZUZvcmNlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9Yi5tZXRyaWNzLGU9Yi5wYWlycy50YWJsZSxmPTA7ZjxhLmxlbmd0aDtmKyspZm9yKHZhciBnPWYrMTtnPGEubGVuZ3RoO2crKyl7dmFyIGk9YVtmXSxqPWFbZ107aWYoIShpLmdyb3VwSWQmJmouZ3JvdXBJZCYmaS5ncm91cElkPT09ai5ncm91cElkfHwoaS5pc1N0YXRpY3x8aS5pc1NsZWVwaW5nKSYmKGouaXNTdGF0aWN8fGouaXNTbGVlcGluZyl8fChkLm1pZHBoYXNlVGVzdHMrPTEsIXgub3ZlcmxhcHMoaS5ib3VuZHMsai5ib3VuZHMpKSkpe3ZhciBrLG09aC5pZChpLGopLG49ZVttXTtrPW4mJm4uaXNBY3RpdmU/bi5jb2xsaXNpb246bnVsbDt2YXIgbz1sLmNvbGxpZGVzKGksaixrKTtkLm5hcnJvd3BoYXNlVGVzdHMrPTEsby5yZXVzZWQmJihkLm5hcnJvd1JldXNlQ291bnQrPTEpLG8uY29sbGlkZWQmJihjLnB1c2gobyksZC5uYXJyb3dEZXRlY3Rpb25zKz0xKX19cmV0dXJuIGN9fSgpO3ZhciBnPXt9OyFmdW5jdGlvbigpe2cuY3JlYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJue2J1Y2tldHM6e30scGFpcnM6e30scGFpcnNMaXN0OltdLGJ1Y2tldFdpZHRoOmF8fDQ4LGJ1Y2tldEhlaWdodDpifHw0OH19LGcudXBkYXRlPWZ1bmN0aW9uKGMsZyxoLGspe3ZhciBsLG0sbixvLHAscT1oLndvcmxkLHI9Yy5idWNrZXRzLHM9aC5tZXRyaWNzLHQ9ITE7Zm9yKHMuYnJvYWRwaGFzZVRlc3RzPTAsbD0wO2w8Zy5sZW5ndGg7bCsrKXt2YXIgdT1nW2xdO2lmKCghdS5pc1NsZWVwaW5nfHxrKSYmISh1LmJvdW5kcy5tYXgueDwwfHx1LmJvdW5kcy5taW4ueD5xLmJvdW5kcy53aWR0aHx8dS5ib3VuZHMubWF4Lnk8MHx8dS5ib3VuZHMubWluLnk+cS5ib3VuZHMuaGVpZ2h0KSl7dmFyIHY9YihjLHUpO2lmKCF1LnJlZ2lvbnx8di5pZCE9PXUucmVnaW9uLmlkfHxrKXtzLmJyb2FkcGhhc2VUZXN0cys9MSwoIXUucmVnaW9ufHxrKSYmKHUucmVnaW9uPXYpO3ZhciB3PWEodix1LnJlZ2lvbik7Zm9yKG09dy5zdGFydENvbDttPD13LmVuZENvbDttKyspZm9yKG49dy5zdGFydFJvdztuPD13LmVuZFJvdztuKyspe3A9ZChtLG4pLG89cltwXTt2YXIgeD1tPj12LnN0YXJ0Q29sJiZtPD12LmVuZENvbCYmbj49di5zdGFydFJvdyYmbjw9di5lbmRSb3cseT1tPj11LnJlZ2lvbi5zdGFydENvbCYmbTw9dS5yZWdpb24uZW5kQ29sJiZuPj11LnJlZ2lvbi5zdGFydFJvdyYmbjw9dS5yZWdpb24uZW5kUm93OyF4JiZ5JiZ5JiZvJiZpKGMsbyx1KSwodS5yZWdpb249PT12fHx4JiYheXx8aykmJihvfHwobz1lKHIscCkpLGYoYyxvLHUpKX11LnJlZ2lvbj12LHQ9ITB9fX10JiYoYy5wYWlyc0xpc3Q9aihjKSl9LGcuY2xlYXI9ZnVuY3Rpb24oYSl7YS5idWNrZXRzPXt9LGEucGFpcnM9e30sYS5wYWlyc0xpc3Q9W119O3ZhciBhPWZ1bmN0aW9uKGEsYil7dmFyIGQ9TWF0aC5taW4oYS5zdGFydENvbCxiLnN0YXJ0Q29sKSxlPU1hdGgubWF4KGEuZW5kQ29sLGIuZW5kQ29sKSxmPU1hdGgubWluKGEuc3RhcnRSb3csYi5zdGFydFJvdyksZz1NYXRoLm1heChhLmVuZFJvdyxiLmVuZFJvdyk7cmV0dXJuIGMoZCxlLGYsZyl9LGI9ZnVuY3Rpb24oYSxiKXt2YXIgZD1iLmJvdW5kcyxlPU1hdGguZmxvb3IoZC5taW4ueC9hLmJ1Y2tldFdpZHRoKSxmPU1hdGguZmxvb3IoZC5tYXgueC9hLmJ1Y2tldFdpZHRoKSxnPU1hdGguZmxvb3IoZC5taW4ueS9hLmJ1Y2tldEhlaWdodCksaD1NYXRoLmZsb29yKGQubWF4LnkvYS5idWNrZXRIZWlnaHQpO3JldHVybiBjKGUsZixnLGgpfSxjPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybntpZDphK1wiLFwiK2IrXCIsXCIrYytcIixcIitkLHN0YXJ0Q29sOmEsZW5kQ29sOmIsc3RhcnRSb3c6YyxlbmRSb3c6ZH19LGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStcIixcIitifSxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YVtiXT1bXTtyZXR1cm4gY30sZj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07aWYoIShjLmlkPT09ZS5pZHx8Yy5pc1N0YXRpYyYmZS5pc1N0YXRpYykpe3ZhciBmPWguaWQoYyxlKSxnPWEucGFpcnNbZl07Zz9nWzJdKz0xOmEucGFpcnNbZl09W2MsZSwxXX19Yi5wdXNoKGMpfSxpPWZ1bmN0aW9uKGEsYixjKXtiLnNwbGljZShiLmluZGV4T2YoYyksMSk7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1oLmlkKGMsZSksZz1hLnBhaXJzW2ZdO2cmJihnWzJdLT0xKX19LGo9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPVtdO2I9by5rZXlzKGEucGFpcnMpO2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWM9YS5wYWlyc1tiW2VdXSxjWzJdPjA/ZC5wdXNoKGMpOmRlbGV0ZSBhLnBhaXJzW2JbZV1dO3JldHVybiBkfX0oKTt2YXIgaD17fTshZnVuY3Rpb24oKXtoLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuYm9keUEsZD1hLmJvZHlCLGU9e2lkOmguaWQoYyxkKSxib2R5QTpjLGJvZHlCOmQsY29udGFjdHM6e30sYWN0aXZlQ29udGFjdHM6W10sc2VwYXJhdGlvbjowLGlzQWN0aXZlOiEwLHRpbWVDcmVhdGVkOmIsdGltZVVwZGF0ZWQ6YixpbnZlcnNlTWFzczpjLmludmVyc2VNYXNzK2QuaW52ZXJzZU1hc3MsZnJpY3Rpb246TWF0aC5taW4oYy5mcmljdGlvbixkLmZyaWN0aW9uKSxyZXN0aXR1dGlvbjpNYXRoLm1heChjLnJlc3RpdHV0aW9uLGQucmVzdGl0dXRpb24pLHNsb3A6TWF0aC5tYXgoYy5zbG9wLGQuc2xvcCl9O3JldHVybiBoLnVwZGF0ZShlLGEsYiksZX0saC51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuY29udGFjdHMsZj1iLnN1cHBvcnRzLGc9YS5hY3RpdmVDb250YWN0cztpZihhLmNvbGxpc2lvbj1iLGcubGVuZ3RoPTAsYi5jb2xsaWRlZCl7Zm9yKHZhciBpPTA7aTxmLmxlbmd0aDtpKyspe3ZhciBqPWZbaV0saz1lLmlkKGopLGw9ZFtrXTtnLnB1c2gobD9sOmRba109ZS5jcmVhdGUoaikpfWEuc2VwYXJhdGlvbj1iLmRlcHRoLGguc2V0QWN0aXZlKGEsITAsYyl9ZWxzZSBhLmlzQWN0aXZlPT09ITAmJmguc2V0QWN0aXZlKGEsITEsYyl9LGguc2V0QWN0aXZlPWZ1bmN0aW9uKGEsYixjKXtiPyhhLmlzQWN0aXZlPSEwLGEudGltZVVwZGF0ZWQ9Yyk6KGEuaXNBY3RpdmU9ITEsYS5hY3RpdmVDb250YWN0cy5sZW5ndGg9MCl9LGguaWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pZDxiLmlkP2EuaWQrXCJfXCIrYi5pZDpiLmlkK1wiX1wiK2EuaWR9fSgpO3ZhciBpPXt9OyFmdW5jdGlvbigpe3ZhciBhPTFlMztpLmNyZWF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gby5leHRlbmQoe3RhYmxlOnt9LGxpc3Q6W10sY29sbGlzaW9uU3RhcnQ6W10sY29sbGlzaW9uQWN0aXZlOltdLGNvbGxpc2lvbkVuZDpbXX0sYSl9LGkudXBkYXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxpPWEubGlzdCxqPWEudGFibGUsaz1hLmNvbGxpc2lvblN0YXJ0LGw9YS5jb2xsaXNpb25FbmQsbT1hLmNvbGxpc2lvbkFjdGl2ZSxuPVtdO2ZvcihrLmxlbmd0aD0wLGwubGVuZ3RoPTAsbS5sZW5ndGg9MCxnPTA7ZzxiLmxlbmd0aDtnKyspZD1iW2ddLGQuY29sbGlkZWQmJihlPWguaWQoZC5ib2R5QSxkLmJvZHlCKSxuLnB1c2goZSksZj1qW2VdLGY/KGYuaXNBY3RpdmU/bS5wdXNoKGYpOmsucHVzaChmKSxoLnVwZGF0ZShmLGQsYykpOihmPWguY3JlYXRlKGQsYyksaltlXT1mLGsucHVzaChmKSxpLnB1c2goZikpKTtmb3IoZz0wO2c8aS5sZW5ndGg7ZysrKWY9aVtnXSxmLmlzQWN0aXZlJiYtMT09PW4uaW5kZXhPZihmLmlkKSYmKGguc2V0QWN0aXZlKGYsITEsYyksbC5wdXNoKGYpKX0saS5yZW1vdmVPbGQ9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoPWIubGlzdCxpPWIudGFibGUsaj1bXTtmb3IoZz0wO2c8aC5sZW5ndGg7ZysrKWQ9aFtnXSxlPWQuY29sbGlzaW9uLGUuYm9keUEuaXNTbGVlcGluZ3x8ZS5ib2R5Qi5pc1NsZWVwaW5nP2QudGltZVVwZGF0ZWQ9YzpjLWQudGltZVVwZGF0ZWQ+YSYmai5wdXNoKGcpO2ZvcihnPTA7ZzxqLmxlbmd0aDtnKyspZj1qW2ddLWcsZD1oW2ZdLGRlbGV0ZSBpW2QuaWRdLGguc3BsaWNlKGYsMSl9LGkuY2xlYXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGFibGU9e30sYS5saXN0Lmxlbmd0aD0wLGEuY29sbGlzaW9uU3RhcnQubGVuZ3RoPTAsYS5jb2xsaXNpb25BY3RpdmUubGVuZ3RoPTAsYS5jb2xsaXNpb25FbmQubGVuZ3RoPTAsYX19KCk7dmFyIGo9e307IWZ1bmN0aW9uKCl7ai5yYXk9ZnVuY3Rpb24oYSxiLGMsZCl7ZD1kfHxOdW1iZXIuTUlOX1ZBTFVFO2Zvcih2YXIgZT15LmFuZ2xlKGIsYyksZj15Lm1hZ25pdHVkZSh5LnN1YihiLGMpKSxnPS41KihjLngrYi54KSxoPS41KihjLnkrYi55KSxpPXUucmVjdGFuZ2xlKGcsaCxmLGQse2FuZ2xlOmV9KSxqPVtdLGs9MDtrPGEubGVuZ3RoO2srKyl7dmFyIG09YVtrXTtpZih4Lm92ZXJsYXBzKG0uYm91bmRzLGkuYm91bmRzKSl7dmFyIG49bC5jb2xsaWRlcyhtLGkpO24uY29sbGlkZWQmJihuLmJvZHk9bi5ib2R5QT1uLmJvZHlCPW0sai5wdXNoKG4pKX19cmV0dXJuIGp9LGoucmVnaW9uPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1hW2VdLGc9eC5vdmVybGFwcyhmLmJvdW5kcyxiKTsoZyYmIWN8fCFnJiZjKSYmZC5wdXNoKGYpfXJldHVybiBkfX0oKTt2YXIgaz17fTshZnVuY3Rpb24oKXt2YXIgYT00LGI9LjIsYz0uNjtrLnNvbHZlUG9zaXRpb249ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyllPWFbZF0sZS5pc0FjdGl2ZSYmKGY9ZS5jb2xsaXNpb24sZz1mLmJvZHlBLGg9Zi5ib2R5QixpPWYuc3VwcG9ydHNbMF0saj1mLnN1cHBvcnRDb3JyZWN0ZWQsaz1mLm5vcm1hbCxsPXkuc3ViKHkuYWRkKGgucG9zaXRpb25JbXB1bHNlLGkpLHkuYWRkKGcucG9zaXRpb25JbXB1bHNlLGopKSxlLnNlcGFyYXRpb249eS5kb3QoayxsKSk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyllPWFbZF0sZS5pc0FjdGl2ZSYmKGY9ZS5jb2xsaXNpb24sZz1mLmJvZHlBLGg9Zi5ib2R5QixrPWYubm9ybWFsLHBvc2l0aW9uSW1wdWxzZT0oZS5zZXBhcmF0aW9uKmItZS5zbG9wKSpjLChnLmlzU3RhdGljfHxoLmlzU3RhdGljKSYmKHBvc2l0aW9uSW1wdWxzZSo9MiksZy5pc1N0YXRpY3x8Zy5pc1NsZWVwaW5nfHwoZy5wb3NpdGlvbkltcHVsc2UueCs9ay54KnBvc2l0aW9uSW1wdWxzZSxnLnBvc2l0aW9uSW1wdWxzZS55Kz1rLnkqcG9zaXRpb25JbXB1bHNlKSxoLmlzU3RhdGljfHxoLmlzU2xlZXBpbmd8fChoLnBvc2l0aW9uSW1wdWxzZS54LT1rLngqcG9zaXRpb25JbXB1bHNlLGgucG9zaXRpb25JbXB1bHNlLnktPWsueSpwb3NpdGlvbkltcHVsc2UpKX0say5wb3N0U29sdmVQb3NpdGlvbj1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGQ9YVtiXTsoMCE9PWQucG9zaXRpb25JbXB1bHNlLnh8fDAhPT1kLnBvc2l0aW9uSW1wdWxzZS55KSYmKGQucG9zaXRpb24ueCs9ZC5wb3NpdGlvbkltcHVsc2UueCxkLnBvc2l0aW9uLnkrPWQucG9zaXRpb25JbXB1bHNlLnksZC5wb3NpdGlvblByZXYueCs9ZC5wb3NpdGlvbkltcHVsc2UueCxkLnBvc2l0aW9uUHJldi55Kz1kLnBvc2l0aW9uSW1wdWxzZS55LHoudHJhbnNsYXRlKGQudmVydGljZXMsZC5wb3NpdGlvbkltcHVsc2UpLHgudXBkYXRlKGQuYm91bmRzLGQudmVydGljZXMsZC52ZWxvY2l0eSksZC5wb3NpdGlvbkltcHVsc2UueCo9YyxkLnBvc2l0aW9uSW1wdWxzZS55Kj1jKX19LGsucHJlU29sdmVWZWxvY2l0eT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9e307Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylpZihkPWFbYl0sZC5pc0FjdGl2ZSlmb3IoZT1kLmFjdGl2ZUNvbnRhY3RzLGY9ZC5jb2xsaXNpb24sZz1mLmJvZHlBLGg9Zi5ib2R5QixpPWYubm9ybWFsLGo9Zi50YW5nZW50LGM9MDtjPGUubGVuZ3RoO2MrKylrPWVbY10sbD1rLnZlcnRleCxtPWsubm9ybWFsSW1wdWxzZSxuPWsudGFuZ2VudEltcHVsc2UscC54PWkueCptK2oueCpuLHAueT1pLnkqbStqLnkqbixnLmlzU3RhdGljfHxnLmlzU2xlZXBpbmd8fChvPXkuc3ViKGwsZy5wb3NpdGlvbiksZy5wb3NpdGlvblByZXYueCs9cC54KmcuaW52ZXJzZU1hc3MsZy5wb3NpdGlvblByZXYueSs9cC55KmcuaW52ZXJzZU1hc3MsZy5hbmdsZVByZXYrPXkuY3Jvc3MobyxwKSpnLmludmVyc2VJbmVydGlhKSxoLmlzU3RhdGljfHxoLmlzU2xlZXBpbmd8fChvPXkuc3ViKGwsaC5wb3NpdGlvbiksaC5wb3NpdGlvblByZXYueC09cC54KmguaW52ZXJzZU1hc3MsaC5wb3NpdGlvblByZXYueS09cC55KmguaW52ZXJzZU1hc3MsaC5hbmdsZVByZXYtPXkuY3Jvc3MobyxwKSpoLmludmVyc2VJbmVydGlhKX0say5zb2x2ZVZlbG9jaXR5PWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9YypjLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtpZihnLmlzQWN0aXZlKXt2YXIgaD1nLmNvbGxpc2lvbixpPWguYm9keUEsaj1oLmJvZHlCLGs9aC5ub3JtYWwsbD1oLnRhbmdlbnQsbT1nLmFjdGl2ZUNvbnRhY3RzLG49MS9tLmxlbmd0aDtpLnZlbG9jaXR5Lng9aS5wb3NpdGlvbi54LWkucG9zaXRpb25QcmV2LngsaS52ZWxvY2l0eS55PWkucG9zaXRpb24ueS1pLnBvc2l0aW9uUHJldi55LGoudmVsb2NpdHkueD1qLnBvc2l0aW9uLngtai5wb3NpdGlvblByZXYueCxqLnZlbG9jaXR5Lnk9ai5wb3NpdGlvbi55LWoucG9zaXRpb25QcmV2LnksaS5hbmd1bGFyVmVsb2NpdHk9aS5hbmdsZS1pLmFuZ2xlUHJldixqLmFuZ3VsYXJWZWxvY2l0eT1qLmFuZ2xlLWouYW5nbGVQcmV2O2Zvcih2YXIgcD0wO3A8bS5sZW5ndGg7cCsrKXt2YXIgcT1tW3BdLHI9cS52ZXJ0ZXgscz15LnN1YihyLGkucG9zaXRpb24pLHQ9eS5zdWIocixqLnBvc2l0aW9uKSx1PXkuYWRkKGkudmVsb2NpdHkseS5tdWx0KHkucGVycChzKSxpLmFuZ3VsYXJWZWxvY2l0eSkpLHY9eS5hZGQoai52ZWxvY2l0eSx5Lm11bHQoeS5wZXJwKHQpLGouYW5ndWxhclZlbG9jaXR5KSksdz15LnN1Yih1LHYpLHg9eS5kb3Qoayx3KSx6PXkuZG90KGwsdyksQT1NYXRoLmFicyh6KSxCPW8uc2lnbih6KSxDPSgxK2cucmVzdGl0dXRpb24pKngsRD1vLmNsYW1wKGcuc2VwYXJhdGlvbit4LDAsMSksRT16O0E+RCpnLmZyaWN0aW9uKmUmJihFPUQqZy5mcmljdGlvbiplKkIpO3ZhciBGPXkuY3Jvc3MocyxrKSxHPXkuY3Jvc3ModCxrKSxIPW4vKGcuaW52ZXJzZU1hc3MraS5pbnZlcnNlSW5lcnRpYSpGKkYrai5pbnZlcnNlSW5lcnRpYSpHKkcpO2lmKEMqPUgsRSo9SCwwPngmJngqeD5hKmUpcS5ub3JtYWxJbXB1bHNlPTAscS50YW5nZW50SW1wdWxzZT0wO2Vsc2V7dmFyIEk9cS5ub3JtYWxJbXB1bHNlO3Eubm9ybWFsSW1wdWxzZT1NYXRoLm1pbihxLm5vcm1hbEltcHVsc2UrQywwKSxDPXEubm9ybWFsSW1wdWxzZS1JO3ZhciBKPXEudGFuZ2VudEltcHVsc2U7cS50YW5nZW50SW1wdWxzZT1vLmNsYW1wKHEudGFuZ2VudEltcHVsc2UrRSwtQSxBKSxFPXEudGFuZ2VudEltcHVsc2UtSn1kLng9ay54KkMrbC54KkUsZC55PWsueSpDK2wueSpFLGkuaXNTdGF0aWN8fGkuaXNTbGVlcGluZ3x8KGkucG9zaXRpb25QcmV2LngrPWQueCppLmludmVyc2VNYXNzLGkucG9zaXRpb25QcmV2LnkrPWQueSppLmludmVyc2VNYXNzLGkuYW5nbGVQcmV2Kz15LmNyb3NzKHMsZCkqaS5pbnZlcnNlSW5lcnRpYSksai5pc1N0YXRpY3x8ai5pc1NsZWVwaW5nfHwoai5wb3NpdGlvblByZXYueC09ZC54KmouaW52ZXJzZU1hc3Msai5wb3NpdGlvblByZXYueS09ZC55KmouaW52ZXJzZU1hc3Msai5hbmdsZVByZXYtPXkuY3Jvc3ModCxkKSpqLmludmVyc2VJbmVydGlhKX19fX19KCk7dmFyIGw9e307IWZ1bmN0aW9uKCl7bC5jb2xsaWRlcz1mdW5jdGlvbihiLGQsZSl7dmFyIGYsZyxoLGksaj1lLGs9ITE7aWYoail7dmFyIGw9Yi5zcGVlZCpiLnNwZWVkK2IuYW5ndWxhclNwZWVkKmIuYW5ndWxhclNwZWVkK2Quc3BlZWQqZC5zcGVlZCtkLmFuZ3VsYXJTcGVlZCpkLmFuZ3VsYXJTcGVlZDtrPWomJmouY29sbGlkZWQmJi4yPmwsaT1qfWVsc2UgaT17Y29sbGlkZWQ6ITEsYm9keUE6Yixib2R5QjpkfTtpZihqJiZrKXt2YXIgbT1bai5ib2R5QS5heGVzW2ouYXhpc051bWJlcl1dO2lmKGg9YShqLmJvZHlBLnZlcnRpY2VzLGouYm9keUIudmVydGljZXMsbSksaS5yZXVzZWQ9ITAsaC5vdmVybGFwPD0wKXJldHVybiBpLmNvbGxpZGVkPSExLGl9ZWxzZXtpZihmPWEoYi52ZXJ0aWNlcyxkLnZlcnRpY2VzLGIuYXhlcyksZi5vdmVybGFwPD0wKXJldHVybiBpLmNvbGxpZGVkPSExLGk7aWYoZz1hKGQudmVydGljZXMsYi52ZXJ0aWNlcyxkLmF4ZXMpLGcub3ZlcmxhcDw9MClyZXR1cm4gaS5jb2xsaWRlZD0hMSxpO2Yub3ZlcmxhcDxnLm92ZXJsYXA/KGg9ZixpLmJvZHlBPWIsaS5ib2R5Qj1kKTooaD1nLGkuYm9keUE9ZCxpLmJvZHlCPWIpLGkuYXhpc051bWJlcj1oLmF4aXNOdW1iZXJ9aS5jb2xsaWRlZD0hMCxpLm5vcm1hbD1oLmF4aXMsaS5kZXB0aD1oLm92ZXJsYXAsYj1pLmJvZHlBLGQ9aS5ib2R5Qix5LmRvdChpLm5vcm1hbCx5LnN1YihkLnBvc2l0aW9uLGIucG9zaXRpb24pKT4wJiYoaS5ub3JtYWw9eS5uZWcoaS5ub3JtYWwpKSxpLnRhbmdlbnQ9eS5wZXJwKGkubm9ybWFsKSxpLnBlbmV0cmF0aW9uPXt4Omkubm9ybWFsLngqaS5kZXB0aCx5Omkubm9ybWFsLnkqaS5kZXB0aH07dmFyIG49YyhiLGQsaS5ub3JtYWwpLG89W25bMF1dO2lmKHouY29udGFpbnMoYi52ZXJ0aWNlcyxuWzFdKSlvLnB1c2goblsxXSk7ZWxzZXt2YXIgcD1jKGQsYix5Lm5lZyhpLm5vcm1hbCkpO3ouY29udGFpbnMoZC52ZXJ0aWNlcyxwWzBdKSYmby5wdXNoKHBbMF0pLG8ubGVuZ3RoPDImJnouY29udGFpbnMoZC52ZXJ0aWNlcyxwWzFdKSYmby5wdXNoKHBbMV0pfXJldHVybiBpLnN1cHBvcnRzPW8saS5zdXBwb3J0Q29ycmVjdGVkPXkuc3ViKG5bMF0saS5wZW5ldHJhdGlvbiksaX07dmFyIGE9ZnVuY3Rpb24oYSxjLGQpe2Zvcih2YXIgZSxmLGc9e30saD17fSxpPXtvdmVybGFwOk51bWJlci5NQVhfVkFMVUV9LGo9MDtqPGQubGVuZ3RoO2orKyl7aWYoZj1kW2pdLGIoZyxhLGYpLGIoaCxjLGYpLGU9Zy5taW48aC5taW4/Zy5tYXgtaC5taW46aC5tYXgtZy5taW4sMD49ZSlyZXR1cm4gaS5vdmVybGFwPWUsaTtlPGkub3ZlcmxhcCYmKGkub3ZlcmxhcD1lLGkuYXhpcz1mLGkuYXhpc051bWJlcj1qKX1yZXR1cm4gaX0sYj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXkuZG90KGJbMF0sYyksZT1kLGY9MTtmPGIubGVuZ3RoO2YrPTEpe3ZhciBnPXkuZG90KGJbZl0sYyk7Zz5lP2U9ZzpkPmcmJihkPWcpfWEubWluPWQsYS5tYXg9ZX0sYz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGUsZj1OdW1iZXIuTUFYX1ZBTFVFLGc9e3g6MCx5OjB9LGg9Yi52ZXJ0aWNlcyxpPWEucG9zaXRpb24saj1oWzBdLGs9aFsxXSxsPTA7bDxoLmxlbmd0aDtsKyspZT1oW2xdLGcueD1lLngtaS54LGcueT1lLnktaS55LGQ9LXkuZG90KGMsZyksZj5kJiYoZj1kLGo9ZSk7dmFyIG09ai5pbmRleC0xPj0wP2ouaW5kZXgtMTpoLmxlbmd0aC0xO2U9aFttXSxnLng9ZS54LWkueCxnLnk9ZS55LWkueSxmPS15LmRvdChjLGcpLGs9ZTt2YXIgbj0oai5pbmRleCsxKSVoLmxlbmd0aDtyZXR1cm4gZT1oW25dLGcueD1lLngtaS54LGcueT1lLnktaS55LGQ9LXkuZG90KGMsZyksZj5kJiYoZj1kLGs9ZSksW2osa119fSgpO3ZhciBtPXt9OyFmdW5jdGlvbigpe3ZhciBhPTFlLTYsYj0uMDAxO20uY3JlYXRlPWZ1bmN0aW9uKGIpe3ZhciBjPWI7Yy5ib2R5QSYmIWMucG9pbnRBJiYoYy5wb2ludEE9e3g6MCx5OjB9KSxjLmJvZHlCJiYhYy5wb2ludEImJihjLnBvaW50Qj17eDowLHk6MH0pO3ZhciBkPWMuYm9keUE/eS5hZGQoYy5ib2R5QS5wb3NpdGlvbixjLnBvaW50QSk6Yy5wb2ludEEsZT1jLmJvZHlCP3kuYWRkKGMuYm9keUIucG9zaXRpb24sYy5wb2ludEIpOmMucG9pbnRCLGY9eS5tYWduaXR1ZGUoeS5zdWIoZCxlKSk7Yy5sZW5ndGg9Yy5sZW5ndGh8fGZ8fGE7dmFyIGc9e3Zpc2libGU6ITAsbGluZVdpZHRoOjIsc3Ryb2tlU3R5bGU6XCIjNjY2XCJ9O3JldHVybiBjLnJlbmRlcj1vLmV4dGVuZChnLGMucmVuZGVyKSxjLmlkPWMuaWR8fG8ubmV4dElkKCksYy5sYWJlbD1jLmxhYmVsfHxcIkNvbnN0cmFpbnRcIixjLnR5cGU9XCJjb25zdHJhaW50XCIsYy5zdGlmZm5lc3M9Yy5zdGlmZm5lc3N8fDEsYy5hbmd1bGFyU3RpZmZuZXNzPWMuYW5ndWxhclN0aWZmbmVzc3x8MCxjLmFuZ2xlQT1jLmJvZHlBP2MuYm9keUEuYW5nbGU6Yy5hbmdsZUEsYy5hbmdsZUI9Yy5ib2R5Qj9jLmJvZHlCLmFuZ2xlOmMuYW5nbGVCLGN9LG0uc29sdmVBbGw9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyltLnNvbHZlKGFbY10sYil9LG0uc29sdmU9ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLmJvZHlBLGY9Yy5ib2R5QixnPWMucG9pbnRBLGg9Yy5wb2ludEI7ZSYmIWUuaXNTdGF0aWMmJihjLnBvaW50QT15LnJvdGF0ZShnLGUuYW5nbGUtYy5hbmdsZUEpLGMuYW5nbGVBPWUuYW5nbGUpLGYmJiFmLmlzU3RhdGljJiYoYy5wb2ludEI9eS5yb3RhdGUoaCxmLmFuZ2xlLWMuYW5nbGVCKSxjLmFuZ2xlQj1mLmFuZ2xlKTt2YXIgaT1nLGo9aDtpZihlJiYoaT15LmFkZChlLnBvc2l0aW9uLGcpKSxmJiYoaj15LmFkZChmLnBvc2l0aW9uLGgpKSxpJiZqKXt2YXIgaz15LnN1YihpLGopLGw9eS5tYWduaXR1ZGUoayk7MD09PWwmJihsPWEpO3ZhciBtPShsLWMubGVuZ3RoKS9sLG49eS5kaXYoayxsKSxwPXkubXVsdChrLC41Km0qYy5zdGlmZm5lc3MqZCpkKTtpZighKE1hdGguYWJzKDEtbC9jLmxlbmd0aCk8YipkKSl7dmFyIHEscixzLHUsdix3LHgsejtlJiYhZS5pc1N0YXRpYz8ocz17eDppLngtZS5wb3NpdGlvbi54K3AueCx5OmkueS1lLnBvc2l0aW9uLnkrcC55fSxlLnZlbG9jaXR5Lng9ZS5wb3NpdGlvbi54LWUucG9zaXRpb25QcmV2LngsZS52ZWxvY2l0eS55PWUucG9zaXRpb24ueS1lLnBvc2l0aW9uUHJldi55LGUuYW5ndWxhclZlbG9jaXR5PWUuYW5nbGUtZS5hbmdsZVByZXYscT15LmFkZChlLnZlbG9jaXR5LHkubXVsdCh5LnBlcnAocyksZS5hbmd1bGFyVmVsb2NpdHkpKSx2PXkuZG90KHMsbikseD1lLmludmVyc2VNYXNzK2UuaW52ZXJzZUluZXJ0aWEqdip2KToocT17eDowLHk6MH0seD1lP2UuaW52ZXJzZU1hc3M6MCksZiYmIWYuaXNTdGF0aWM/KHU9e3g6ai54LWYucG9zaXRpb24ueC1wLngseTpqLnktZi5wb3NpdGlvbi55LXAueX0sZi52ZWxvY2l0eS54PWYucG9zaXRpb24ueC1mLnBvc2l0aW9uUHJldi54LGYudmVsb2NpdHkueT1mLnBvc2l0aW9uLnktZi5wb3NpdGlvblByZXYueSxmLmFuZ3VsYXJWZWxvY2l0eT1mLmFuZ2xlLWYuYW5nbGVQcmV2LHI9eS5hZGQoZi52ZWxvY2l0eSx5Lm11bHQoeS5wZXJwKHUpLGYuYW5ndWxhclZlbG9jaXR5KSksdz15LmRvdCh1LG4pLHo9Zi5pbnZlcnNlTWFzcytmLmludmVyc2VJbmVydGlhKncqdyk6KHI9e3g6MCx5OjB9LHo9Zj9mLmludmVyc2VNYXNzOjApO3ZhciBBPXkuc3ViKHIscSksQj15LmRvdChuLEEpLyh4K3opO0I+MCYmKEI9MCk7dmFyIEMsRD17eDpuLngqQix5Om4ueSpCfTtlJiYhZS5pc1N0YXRpYyYmKEM9eS5jcm9zcyhzLEQpKmUuaW52ZXJzZUluZXJ0aWEqKDEtYy5hbmd1bGFyU3RpZmZuZXNzKSx0LnNldChlLCExKSxDPW8uY2xhbXAoQywtLjAxLC4wMSksZS5jb25zdHJhaW50SW1wdWxzZS54LT1wLngsZS5jb25zdHJhaW50SW1wdWxzZS55LT1wLnksZS5jb25zdHJhaW50SW1wdWxzZS5hbmdsZSs9QyxlLnBvc2l0aW9uLngtPXAueCxlLnBvc2l0aW9uLnktPXAueSxlLmFuZ2xlKz1DKSxmJiYhZi5pc1N0YXRpYyYmKEM9eS5jcm9zcyh1LEQpKmYuaW52ZXJzZUluZXJ0aWEqKDEtYy5hbmd1bGFyU3RpZmZuZXNzKSx0LnNldChmLCExKSxDPW8uY2xhbXAoQywtLjAxLC4wMSksZi5jb25zdHJhaW50SW1wdWxzZS54Kz1wLngsZi5jb25zdHJhaW50SW1wdWxzZS55Kz1wLnksZi5jb25zdHJhaW50SW1wdWxzZS5hbmdsZS09QyxmLnBvc2l0aW9uLngrPXAueCxmLnBvc2l0aW9uLnkrPXAueSxmLmFuZ2xlLT1DKX19fSxtLnBvc3RTb2x2ZUFsbD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXSxkPWMuY29uc3RyYWludEltcHVsc2U7ei50cmFuc2xhdGUoYy52ZXJ0aWNlcyxkKSwwIT09ZC5hbmdsZSYmKHoucm90YXRlKGMudmVydGljZXMsZC5hbmdsZSxjLnBvc2l0aW9uKSx3LnJvdGF0ZShjLmF4ZXMsZC5hbmdsZSksZC5hbmdsZT0wKSx4LnVwZGF0ZShjLmJvdW5kcyxjLnZlcnRpY2VzKSxkLng9MCxkLnk9MH19fSgpO3ZhciBuPXt9OyFmdW5jdGlvbigpe24uY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5pbnB1dC5tb3VzZSxlPW0uY3JlYXRlKHtsYWJlbDpcIk1vdXNlIENvbnN0cmFpbnRcIixwb2ludEE6ZC5wb3NpdGlvbixwb2ludEI6e3g6MCx5OjB9LGxlbmd0aDouMDEsc3RpZmZuZXNzOi4xLGFuZ3VsYXJTdGlmZm5lc3M6MSxyZW5kZXI6e3N0cm9rZVN0eWxlOlwiIzkwRUU5MFwiLGxpbmVXaWR0aDozfX0pLGY9e3R5cGU6XCJtb3VzZUNvbnN0cmFpbnRcIixtb3VzZTpkLGRyYWdCb2R5Om51bGwsZHJhZ1BvaW50Om51bGwsY29uc3RyYWludDplfSxnPW8uZXh0ZW5kKGYsYik7cmV0dXJuIHEub24oYSxcInRpY2tcIixmdW5jdGlvbigpe3ZhciBiPWMuYWxsQm9kaWVzKGEud29ybGQpO24udXBkYXRlKGcsYil9KSxnfSxuLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEubW91c2UsZD1hLmNvbnN0cmFpbnQ7aWYoMD09PWMuYnV0dG9uKXtpZighZC5ib2R5Qilmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXTt4LmNvbnRhaW5zKGYuYm91bmRzLGMucG9zaXRpb24pJiZ6LmNvbnRhaW5zKGYudmVydGljZXMsYy5wb3NpdGlvbikmJihkLnBvaW50QT1jLnBvc2l0aW9uLGQuYm9keUI9ZixkLnBvaW50Qj17eDpjLnBvc2l0aW9uLngtZi5wb3NpdGlvbi54LHk6Yy5wb3NpdGlvbi55LWYucG9zaXRpb24ueX0sZC5hbmdsZUI9Zi5hbmdsZSx0LnNldChmLCExKSl9fWVsc2UgZC5ib2R5Qj1udWxsLGQucG9pbnRCPW51bGw7ZC5ib2R5QiYmKHQuc2V0KGQuYm9keUIsITEpLGQucG9pbnRBPWMucG9zaXRpb24pfX0oKTt2YXIgbz17fTshZnVuY3Rpb24oKXtvLl9uZXh0SWQ9MCxvLmV4dGVuZD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtcImJvb2xlYW5cIj09dHlwZW9mIGI/KGM9MixlPWIpOihjPTEsZT0hMCksZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsYyk7Zm9yKHZhciBmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWRbZl07aWYoZylmb3IodmFyIGggaW4gZyllJiZnW2hdJiZnW2hdLmNvbnN0cnVjdG9yPT09T2JqZWN0P2FbaF0mJmFbaF0uY29uc3RydWN0b3IhPT1PYmplY3Q/YVtoXT1nW2hdOihhW2hdPWFbaF18fHt9LG8uZXh0ZW5kKGFbaF0sZSxnW2hdKSk6YVtoXT1nW2hdfXJldHVybiBhfSxvLmNsb25lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uZXh0ZW5kKHt9LGIsYSl9LG8ua2V5cz1mdW5jdGlvbihhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5wdXNoKGMpO3JldHVybiBifSxvLnZhbHVlcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihPYmplY3Qua2V5cyl7Zm9yKHZhciBjPU9iamVjdC5rZXlzKGEpLGQ9MDtkPGMubGVuZ3RoO2QrKyliLnB1c2goYVtjW2RdXSk7cmV0dXJuIGJ9Zm9yKHZhciBlIGluIGEpYi5wdXNoKGFbZV0pO3JldHVybiBifSxvLnNoYWRlQ29sb3I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1wYXJzZUludChhLnNsaWNlKDEpLDE2KSxkPU1hdGgucm91bmQoMi41NSpiKSxlPShjPj4xNikrZCxmPShjPj44JjI1NSkrZCxnPSgyNTUmYykrZDtyZXR1cm5cIiNcIisoMTY3NzcyMTYrNjU1MzYqKDI1NT5lPzE+ZT8wOmU6MjU1KSsyNTYqKDI1NT5mPzE+Zj8wOmY6MjU1KSsoMjU1Pmc/MT5nPzA6ZzoyNTUpKS50b1N0cmluZygxNikuc2xpY2UoMSl9LG8uc2h1ZmZsZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMTtiPjA7Yi0tKXt2YXIgYz1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGIrMSkpLGQ9YVtiXTthW2JdPWFbY10sYVtjXT1kfXJldHVybiBhfSxvLmNob29zZT1mdW5jdGlvbihhKXtyZXR1cm4gYVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYS5sZW5ndGgpXX0sby5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR9Y2F0Y2goYil7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGEmJjE9PT1hLm5vZGVUeXBlJiZcIm9iamVjdFwiPT10eXBlb2YgYS5zdHlsZSYmXCJvYmplY3RcIj09dHlwZW9mIGEub3duZXJEb2N1bWVudH19LG8uY2xhbXA9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmE/YjphPmM/YzphfSxvLnNpZ249ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YT8tMToxfSxvLm5vdz1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5wZXJmb3JtYW5jZTtyZXR1cm4gYT8oYS5ub3c9YS5ub3d8fGEud2Via2l0Tm93fHxhLm1zTm93fHxhLm9Ob3d8fGEubW96Tm93LCthLm5vdygpKTorbmV3IERhdGV9LG8ucmFuZG9tPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGErTWF0aC5yYW5kb20oKSooYi1hKX0sby5jb2xvclRvTnVtYmVyPWZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShcIiNcIixcIlwiKSwzPT1hLmxlbmd0aCYmKGE9YS5jaGFyQXQoMCkrYS5jaGFyQXQoMCkrYS5jaGFyQXQoMSkrYS5jaGFyQXQoMSkrYS5jaGFyQXQoMikrYS5jaGFyQXQoMikpLHBhcnNlSW50KGEsMTYpfSxvLmxvZz1mdW5jdGlvbihhLGIpe2lmKGNvbnNvbGUmJmNvbnNvbGUubG9nKXt2YXIgYztzd2l0Y2goYil7Y2FzZVwid2FyblwiOmM9XCJjb2xvcjogY29yYWxcIjticmVhaztjYXNlXCJlcnJvclwiOmM9XCJjb2xvcjogcmVkXCJ9Y29uc29sZS5sb2coXCIlYyBbTWF0dGVyXSBcIitiK1wiOiBcIithLGMpfX0sby5uZXh0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gby5fbmV4dElkKyt9fSgpO3ZhciBwPXt9OyFmdW5jdGlvbigpe3ZhciBhPTYwLGU9YSxoPTFlMy9hLGo9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Eoby5ub3coKSl9LGgpfTtwLmNyZWF0ZT1mdW5jdGlvbihiLGMpe2M9by5pc0VsZW1lbnQoYik/YzpiLGI9by5pc0VsZW1lbnQoYik/YjpudWxsO3ZhciBlPXtlbmFibGVkOiEwLHBvc2l0aW9uSXRlcmF0aW9uczo2LHZlbG9jaXR5SXRlcmF0aW9uczo0LGNvbnN0cmFpbnRJdGVyYXRpb25zOjIsZW5hYmxlU2xlZXBpbmc6ITEsdGltZVNjYWxlOjEsaW5wdXQ6e30sZXZlbnRzOltdLHRpbWluZzp7ZnBzOmEsdGltZXN0YW1wOjAsZGVsdGE6aCxjb3JyZWN0aW9uOjEsZGVsdGFNaW46MWUzL2EsZGVsdGFNYXg6MWUzLyguNSphKSx0aW1lU2NhbGU6MSxpc0ZpeGVkOiExfSxyZW5kZXI6e2VsZW1lbnQ6Yixjb250cm9sbGVyOkF9fSxqPW8uZXh0ZW5kKGUsYyk7cmV0dXJuIGoucmVuZGVyPWoucmVuZGVyLmNvbnRyb2xsZXIuY3JlYXRlKGoucmVuZGVyKSxqLndvcmxkPWQuY3JlYXRlKGoud29ybGQpLGoucGFpcnM9aS5jcmVhdGUoKSxqLm1ldHJpY3M9ai5tZXRyaWNzfHxyLmNyZWF0ZSgpLGouaW5wdXQubW91c2U9ai5pbnB1dC5tb3VzZXx8cy5jcmVhdGUoai5yZW5kZXIuY2FudmFzKSxqLmJyb2FkcGhhc2U9ai5icm9hZHBoYXNlfHx7Y3VycmVudDpcImdyaWRcIixncmlkOntjb250cm9sbGVyOmcsaW5zdGFuY2U6Zy5jcmVhdGUoKSxkZXRlY3RvcjpmLmNvbGxpc2lvbnN9LGJydXRlRm9yY2U6e2RldGVjdG9yOmYuYnJ1dGVGb3JjZX19LGp9LHAucnVuPWZ1bmN0aW9uKGEpe3ZhciBiLGM9MCxkPTAsZj1bXSxnPTE7IWZ1bmN0aW9uIGgoaSl7aWYoaihoKSxhLmVuYWJsZWQpe3ZhciBrLG0sbz1hLnRpbWluZyxyPXt0aW1lc3RhbXA6aX07cS50cmlnZ2VyKGEsXCJiZWZvcmVUaWNrXCIsciksby5pc0ZpeGVkP2s9by5kZWx0YTooaz1pLWJ8fG8uZGVsdGEsYj1pLGYucHVzaChrKSxmPWYuc2xpY2UoLWUpLGs9TWF0aC5taW4uYXBwbHkobnVsbCxmKSxrPWs8by5kZWx0YU1pbj9vLmRlbHRhTWluOmssaz1rPm8uZGVsdGFNYXg/by5kZWx0YU1heDprLG09ay9vLmRlbHRhLG8uZGVsdGE9ayksMCE9PWcmJihtKj1vLnRpbWVTY2FsZS9nKSwwPT09by50aW1lU2NhbGUmJihtPTApLGc9by50aW1lU2NhbGUsZCs9MSxpLWM+PTFlMyYmKG8uZnBzPWQqKChpLWMpLzFlMyksYz1pLGQ9MCkscS50cmlnZ2VyKGEsXCJ0aWNrXCIsciksYS53b3JsZC5pc01vZGlmaWVkJiZhLnJlbmRlci5jb250cm9sbGVyLmNsZWFyKGEucmVuZGVyKSxwLnVwZGF0ZShhLGssbSksbihhKSxsKGEpLHAucmVuZGVyKGEpLHEudHJpZ2dlcihhLFwiYWZ0ZXJUaWNrXCIscil9fSgpfSxwLnVwZGF0ZT1mdW5jdGlvbihhLGQsZSl7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZT9lOjE7dmFyIGYsZz1hLndvcmxkLGg9YS50aW1pbmcsaj1hLmJyb2FkcGhhc2VbYS5icm9hZHBoYXNlLmN1cnJlbnRdLGw9W107aC50aW1lc3RhbXArPWQqaC50aW1lU2NhbGUsaC5jb3JyZWN0aW9uPWU7dmFyIG49e3RpbWVzdGFtcDphLnRpbWluZy50aW1lc3RhbXB9O3EudHJpZ2dlcihhLFwiYmVmb3JlVXBkYXRlXCIsbik7dmFyIG89Yy5hbGxCb2RpZXMoZykscD1jLmFsbENvbnN0cmFpbnRzKGcpO2ZvcihyLnJlc2V0KGEubWV0cmljcyksYS5lbmFibGVTbGVlcGluZyYmdC51cGRhdGUobyksYi5hcHBseUdyYXZpdHlBbGwobyxnLmdyYXZpdHkpLGIudXBkYXRlQWxsKG8sZCxoLnRpbWVTY2FsZSxlLGcuYm91bmRzKSxmPTA7ZjxhLmNvbnN0cmFpbnRJdGVyYXRpb25zO2YrKyltLnNvbHZlQWxsKHAsaC50aW1lU2NhbGUpO20ucG9zdFNvbHZlQWxsKG8pLGouY29udHJvbGxlcj8oZy5pc01vZGlmaWVkJiZqLmNvbnRyb2xsZXIuY2xlYXIoai5pbnN0YW5jZSksai5jb250cm9sbGVyLnVwZGF0ZShqLmluc3RhbmNlLG8sYSxnLmlzTW9kaWZpZWQpLGw9ai5pbnN0YW5jZS5wYWlyc0xpc3QpOmw9bzt2YXIgcz1qLmRldGVjdG9yKGwsYSksdT1hLnBhaXJzLHY9aC50aW1lc3RhbXA7Zm9yKGkudXBkYXRlKHUscyx2KSxpLnJlbW92ZU9sZCh1LHYpLGEuZW5hYmxlU2xlZXBpbmcmJnQuYWZ0ZXJDb2xsaXNpb25zKHUubGlzdCksay5wcmVTb2x2ZVZlbG9jaXR5KHUubGlzdCksZj0wO2Y8YS52ZWxvY2l0eUl0ZXJhdGlvbnM7ZisrKWsuc29sdmVWZWxvY2l0eSh1Lmxpc3QsaC50aW1lU2NhbGUpO2ZvcihmPTA7ZjxhLnBvc2l0aW9uSXRlcmF0aW9ucztmKyspay5zb2x2ZVBvc2l0aW9uKHUubGlzdCxoLnRpbWVTY2FsZSk7cmV0dXJuIGsucG9zdFNvbHZlUG9zaXRpb24obyksci51cGRhdGUoYS5tZXRyaWNzLGEpLGIucmVzZXRGb3JjZXNBbGwobyksZy5pc01vZGlmaWVkJiZjLnNldE1vZGlmaWVkKGcsITEsITEsITApLHEudHJpZ2dlcihhLFwiYWZ0ZXJVcGRhdGVcIixuKSxhfSxwLnJlbmRlcj1mdW5jdGlvbihhKXt2YXIgYj17dGltZXN0YW1wOmEudGltaW5nLnRpbWVzdGFtcH07cS50cmlnZ2VyKGEsXCJiZWZvcmVSZW5kZXJcIixiKSxhLnJlbmRlci5jb250cm9sbGVyLndvcmxkKGEpLHEudHJpZ2dlcihhLFwiYWZ0ZXJSZW5kZXJcIixiKX0scC5tZXJnZT1mdW5jdGlvbihhLGIpe2lmKG8uZXh0ZW5kKGEsYiksYi53b3JsZCl7YS53b3JsZD1iLndvcmxkLHAuY2xlYXIoYSk7Zm9yKHZhciBkPWMuYWxsQm9kaWVzKGEud29ybGQpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTt0LnNldChmLCExKSxmLmlkPW8ubmV4dElkKCl9fX0scC5jbGVhcj1mdW5jdGlvbihhKXt2YXIgYj1hLndvcmxkO2kuY2xlYXIoYS5wYWlycyk7dmFyIGQ9YS5icm9hZHBoYXNlW2EuYnJvYWRwaGFzZS5jdXJyZW50XTtpZihkLmNvbnRyb2xsZXIpe3ZhciBlPWMuYWxsQm9kaWVzKGIpO2QuY29udHJvbGxlci5jbGVhcihkLmluc3RhbmNlKSxkLmNvbnRyb2xsZXIudXBkYXRlKGQuaW5zdGFuY2UsZSxhLCEwKX19O3ZhciBsPWZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5wdXQubW91c2UsYz1iLnNvdXJjZUV2ZW50cztjLm1vdXNlbW92ZSYmcS50cmlnZ2VyKGEsXCJtb3VzZW1vdmVcIix7bW91c2U6Yn0pLGMubW91c2Vkb3duJiZxLnRyaWdnZXIoYSxcIm1vdXNlZG93blwiLHttb3VzZTpifSksYy5tb3VzZXVwJiZxLnRyaWdnZXIoYSxcIm1vdXNldXBcIix7bW91c2U6Yn0pLHMuY2xlYXJTb3VyY2VFdmVudHMoYil9LG49ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYWlycztiLmNvbGxpc2lvblN0YXJ0Lmxlbmd0aD4wJiZxLnRyaWdnZXIoYSxcImNvbGxpc2lvblN0YXJ0XCIse3BhaXJzOmIuY29sbGlzaW9uU3RhcnR9KSxiLmNvbGxpc2lvbkFjdGl2ZS5sZW5ndGg+MCYmcS50cmlnZ2VyKGEsXCJjb2xsaXNpb25BY3RpdmVcIix7cGFpcnM6Yi5jb2xsaXNpb25BY3RpdmV9KSxiLmNvbGxpc2lvbkVuZC5sZW5ndGg+MCYmcS50cmlnZ2VyKGEsXCJjb2xsaXNpb25FbmRcIix7cGFpcnM6Yi5jb2xsaXNpb25FbmR9KX19KCk7dmFyIHE9e307IWZ1bmN0aW9uKCl7cS5vbj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9Yi5zcGxpdChcIiBcIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSxhLmV2ZW50cz1hLmV2ZW50c3x8e30sYS5ldmVudHNbZF09YS5ldmVudHNbZF18fFtdLGEuZXZlbnRzW2RdLnB1c2goYyk7cmV0dXJuIGN9LHEub2ZmPWZ1bmN0aW9uKGEsYixjKXtpZighYilyZXR1cm4gdm9pZChhLmV2ZW50cz17fSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGM9YixiPW8ua2V5cyhhLmV2ZW50cykuam9pbihcIiBcIikpO2Zvcih2YXIgZD1iLnNwbGl0KFwiIFwiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWEuZXZlbnRzW2RbZV1dLGc9W107aWYoYylmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKylmW2hdIT09YyYmZy5wdXNoKGZbaF0pO2EuZXZlbnRzW2RbZV1dPWd9fSxxLnRyaWdnZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnO2lmKGEuZXZlbnRzKXtjfHwoYz17fSksZD1iLnNwbGl0KFwiIFwiKTtmb3IodmFyIGg9MDtoPGQubGVuZ3RoO2grKylpZihlPWRbaF0sZj1hLmV2ZW50c1tlXSl7Zz1vLmNsb25lKGMsITEpLGcubmFtZT1lLGcuc291cmNlPWE7Zm9yKHZhciBpPTA7aTxmLmxlbmd0aDtpKyspZltpXS5hcHBseShhLFtnXSl9fX19KCk7dmFyIHI9e307IWZ1bmN0aW9uKCl7ci5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm57ZXh0ZW5kZWQ6ITEsbmFycm93RGV0ZWN0aW9uczowLG5hcnJvd3BoYXNlVGVzdHM6MCxuYXJyb3dSZXVzZTowLG5hcnJvd1JldXNlQ291bnQ6MCxtaWRwaGFzZVRlc3RzOjAsYnJvYWRwaGFzZVRlc3RzOjAsbmFycm93RWZmOjFlLTQsbWlkRWZmOjFlLTQsYnJvYWRFZmY6MWUtNCxjb2xsaXNpb25zOjAsYnVja2V0czowLGJvZGllczowLHBhaXJzOjB9fSxyLnJlc2V0PWZ1bmN0aW9uKGEpe2EuZXh0ZW5kZWQmJihhLm5hcnJvd0RldGVjdGlvbnM9MCxhLm5hcnJvd3BoYXNlVGVzdHM9MCxhLm5hcnJvd1JldXNlPTAsYS5uYXJyb3dSZXVzZUNvdW50PTAsYS5taWRwaGFzZVRlc3RzPTAsYS5icm9hZHBoYXNlVGVzdHM9MCxhLm5hcnJvd0VmZj0wLGEubWlkRWZmPTAsYS5icm9hZEVmZj0wLGEuY29sbGlzaW9ucz0wLGEuYnVja2V0cz0wLGEucGFpcnM9MCxhLmJvZGllcz0wKX0sci51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihhLmV4dGVuZGVkKXt2YXIgZD1iLndvcmxkLGU9KGIuYnJvYWRwaGFzZVtiLmJyb2FkcGhhc2UuY3VycmVudF0sYy5hbGxCb2RpZXMoZCkpO2EuY29sbGlzaW9ucz1hLm5hcnJvd0RldGVjdGlvbnMsYS5wYWlycz1iLnBhaXJzLmxpc3QubGVuZ3RoLGEuYm9kaWVzPWUubGVuZ3RoLGEubWlkRWZmPShhLm5hcnJvd0RldGVjdGlvbnMvKGEubWlkcGhhc2VUZXN0c3x8MSkpLnRvRml4ZWQoMiksYS5uYXJyb3dFZmY9KGEubmFycm93RGV0ZWN0aW9ucy8oYS5uYXJyb3dwaGFzZVRlc3RzfHwxKSkudG9GaXhlZCgyKSxhLmJyb2FkRWZmPSgxLWEuYnJvYWRwaGFzZVRlc3RzLyhlLmxlbmd0aHx8MSkpLnRvRml4ZWQoMiksYS5uYXJyb3dSZXVzZT0oYS5uYXJyb3dSZXVzZUNvdW50LyhhLm5hcnJvd3BoYXNlVGVzdHN8fDEpKS50b0ZpeGVkKDIpfX19KCk7dmFyIHM7IWZ1bmN0aW9uKCl7cz1mdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMuZWxlbWVudD1ifHxkb2N1bWVudC5ib2R5LHRoaXMuYWJzb2x1dGU9e3g6MCx5OjB9LHRoaXMucG9zaXRpb249e3g6MCx5OjB9LHRoaXMubW91c2Vkb3duUG9zaXRpb249e3g6MCx5OjB9LHRoaXMubW91c2V1cFBvc2l0aW9uPXt4OjAseTowfSx0aGlzLm9mZnNldD17eDowLHk6MH0sdGhpcy5zY2FsZT17eDoxLHk6MX0sdGhpcy53aGVlbERlbHRhPTAsdGhpcy5idXR0b249LTEsdGhpcy5zb3VyY2VFdmVudHM9e21vdXNlbW92ZTpudWxsLG1vdXNlZG93bjpudWxsLG1vdXNldXA6bnVsbCxtb3VzZXdoZWVsOm51bGx9LHRoaXMubW91c2Vtb3ZlPWZ1bmN0aW9uKGIpe3ZhciBkPWEoYixjLmVsZW1lbnQpLGU9Yi5jaGFuZ2VkVG91Y2hlcztlJiYoYy5idXR0b249MCxiLnByZXZlbnREZWZhdWx0KCkpLGMuYWJzb2x1dGUueD1kLngsYy5hYnNvbHV0ZS55PWQueSxjLnBvc2l0aW9uLng9Yy5hYnNvbHV0ZS54KmMuc2NhbGUueCtjLm9mZnNldC54LGMucG9zaXRpb24ueT1jLmFic29sdXRlLnkqYy5zY2FsZS55K2Mub2Zmc2V0LnksYy5zb3VyY2VFdmVudHMubW91c2Vtb3ZlPWJ9LHRoaXMubW91c2Vkb3duPWZ1bmN0aW9uKGIpe3ZhciBkPWEoYixjLmVsZW1lbnQpLGU9Yi5jaGFuZ2VkVG91Y2hlcztlPyhjLmJ1dHRvbj0wLGIucHJldmVudERlZmF1bHQoKSk6Yy5idXR0b249Yi5idXR0b24sYy5hYnNvbHV0ZS54PWQueCxjLmFic29sdXRlLnk9ZC55LGMucG9zaXRpb24ueD1jLmFic29sdXRlLngqYy5zY2FsZS54K2Mub2Zmc2V0LngsYy5wb3NpdGlvbi55PWMuYWJzb2x1dGUueSpjLnNjYWxlLnkrYy5vZmZzZXQueSxjLm1vdXNlZG93blBvc2l0aW9uLng9Yy5wb3NpdGlvbi54LGMubW91c2Vkb3duUG9zaXRpb24ueT1jLnBvc2l0aW9uLnksYy5zb3VyY2VFdmVudHMubW91c2Vkb3duPWJ9LHRoaXMubW91c2V1cD1mdW5jdGlvbihiKXt2YXIgZD1hKGIsYy5lbGVtZW50KSxlPWIuY2hhbmdlZFRvdWNoZXM7ZSYmYi5wcmV2ZW50RGVmYXVsdCgpLGMuYnV0dG9uPS0xLGMuYWJzb2x1dGUueD1kLngsYy5hYnNvbHV0ZS55PWQueSxjLnBvc2l0aW9uLng9Yy5hYnNvbHV0ZS54KmMuc2NhbGUueCtjLm9mZnNldC54LGMucG9zaXRpb24ueT1jLmFic29sdXRlLnkqYy5zY2FsZS55K2Mub2Zmc2V0LnksYy5tb3VzZXVwUG9zaXRpb24ueD1jLnBvc2l0aW9uLngsYy5tb3VzZXVwUG9zaXRpb24ueT1jLnBvc2l0aW9uLnksYy5zb3VyY2VFdmVudHMubW91c2V1cD1ifSx0aGlzLm1vdXNld2hlZWw9ZnVuY3Rpb24oYSl7Yy53aGVlbERlbHRhPU1hdGgubWF4KC0xLE1hdGgubWluKDEsYS53aGVlbERlbHRhfHwtYS5kZXRhaWwpKSxhLnByZXZlbnREZWZhdWx0KCl9LHMuc2V0RWxlbWVudChjLGMuZWxlbWVudCl9LHMuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgcyhhKX0scy5zZXRFbGVtZW50PWZ1bmN0aW9uKGEsYil7YS5lbGVtZW50PWIsYi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYS5tb3VzZW1vdmUpLGIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGEubW91c2Vkb3duKSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsYS5tb3VzZXVwKSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsYS5tb3VzZXdoZWVsKSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLGEubW91c2V3aGVlbCksYi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsYS5tb3VzZW1vdmUpLGIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixhLm1vdXNlZG93biksYi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixhLm1vdXNldXApfSxzLmNsZWFyU291cmNlRXZlbnRzPWZ1bmN0aW9uKGEpe2Euc291cmNlRXZlbnRzLm1vdXNlbW92ZT1udWxsLGEuc291cmNlRXZlbnRzLm1vdXNlZG93bj1udWxsLGEuc291cmNlRXZlbnRzLm1vdXNldXA9bnVsbCxhLnNvdXJjZUV2ZW50cy5tb3VzZXdoZWVsPW51bGwsYS53aGVlbERlbHRhPTB9LHMuc2V0T2Zmc2V0PWZ1bmN0aW9uKGEsYil7YS5vZmZzZXQueD1iLngsYS5vZmZzZXQueT1iLnksYS5wb3NpdGlvbi54PWEuYWJzb2x1dGUueCphLnNjYWxlLngrYS5vZmZzZXQueCxhLnBvc2l0aW9uLnk9YS5hYnNvbHV0ZS55KmEuc2NhbGUueSthLm9mZnNldC55fSxzLnNldFNjYWxlPWZ1bmN0aW9uKGEsYil7YS5zY2FsZS54PWIueCxhLnNjYWxlLnk9Yi55LGEucG9zaXRpb24ueD1hLmFic29sdXRlLngqYS5zY2FsZS54K2Eub2Zmc2V0LngsYS5wb3NpdGlvbi55PWEuYWJzb2x1dGUueSphLnNjYWxlLnkrYS5vZmZzZXQueX07dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxmPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5LGc9dm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0P3dpbmRvdy5wYWdlWE9mZnNldDpmLnNjcm9sbExlZnQsaD12b2lkIDAhPT13aW5kb3cucGFnZVlPZmZzZXQ/d2luZG93LnBhZ2VZT2Zmc2V0OmYuc2Nyb2xsVG9wLGk9YS5jaGFuZ2VkVG91Y2hlcztyZXR1cm4gaT8oYz1pWzBdLnBhZ2VYLWUubGVmdC1nLGQ9aVswXS5wYWdlWS1lLnRvcC1oKTooYz1hLnBhZ2VYLWUubGVmdC1nLGQ9YS5wYWdlWS1lLnRvcC1oKSx7eDpjLyhiLmNsaWVudFdpZHRoL2Iud2lkdGgpLHk6ZC8oYi5jbGllbnRIZWlnaHQvYi5oZWlnaHQpfX19KCk7dmFyIHQ9e307IWZ1bmN0aW9uKCl7dmFyIGE9LjE4LGI9LjA4LGM9Ljk7dC51cGRhdGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF0sZj1lLnNwZWVkKmUuc3BlZWQrZS5hbmd1bGFyU3BlZWQqZS5hbmd1bGFyU3BlZWQ7aWYoZS5mb3JjZS54PjB8fGUuZm9yY2UueT4wKXQuc2V0KGUsITEpO2Vsc2V7dmFyIGc9TWF0aC5taW4oZS5tb3Rpb24sZiksaD1NYXRoLm1heChlLm1vdGlvbixmKTtlLm1vdGlvbj1jKmcrKDEtYykqaCxlLnNsZWVwVGhyZXNob2xkPjAmJmUubW90aW9uPGI/KGUuc2xlZXBDb3VudGVyKz0xLGUuc2xlZXBDb3VudGVyPj1lLnNsZWVwVGhyZXNob2xkJiZ0LnNldChlLCEwKSk6ZS5zbGVlcENvdW50ZXI+MCYmKGUuc2xlZXBDb3VudGVyLT0xKX19fSx0LmFmdGVyQ29sbGlzaW9ucz1mdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLmlzQWN0aXZlKXt2YXIgZT1kLmNvbGxpc2lvbixmPWUuYm9keUEsZz1lLmJvZHlCO2lmKCEoZi5pc1NsZWVwaW5nJiZnLmlzU2xlZXBpbmd8fGYuaXNTdGF0aWN8fGcuaXNTdGF0aWMpJiYoZi5pc1NsZWVwaW5nfHxnLmlzU2xlZXBpbmcpKXt2YXIgaD1mLmlzU2xlZXBpbmcmJiFmLmlzU3RhdGljP2Y6ZyxpPWg9PT1mP2c6ZjshaC5pc1N0YXRpYyYmaS5tb3Rpb24+YSYmdC5zZXQoaCwhMSl9fX19LHQuc2V0PWZ1bmN0aW9uKGEsYil7Yj8oYS5pc1NsZWVwaW5nPSEwLGEuc2xlZXBDb3VudGVyPWEuc2xlZXBUaHJlc2hvbGQsYS5wb3NpdGlvbkltcHVsc2UueD0wLGEucG9zaXRpb25JbXB1bHNlLnk9MCxhLnBvc2l0aW9uUHJldi54PWEucG9zaXRpb24ueCxhLnBvc2l0aW9uUHJldi55PWEucG9zaXRpb24ueSxhLmFuZ2xlUHJldj1hLmFuZ2xlLGEuc3BlZWQ9MCxhLmFuZ3VsYXJTcGVlZD0wLGEubW90aW9uPTApOihhLmlzU2xlZXBpbmc9ITEsYS5zbGVlcENvdW50ZXI9MCl9fSgpO3ZhciB1PXt9OyFmdW5jdGlvbigpe3UucmVjdGFuZ2xlPWZ1bmN0aW9uKGEsYyxkLGUsZil7Zj1mfHx7fTt2YXIgZz17bGFiZWw6XCJSZWN0YW5nbGUgQm9keVwiLHBvc2l0aW9uOnt4OmEseTpjfSx2ZXJ0aWNlczp6LmZyb21QYXRoKFwiTCAwIDAgTCBcIitkK1wiIDAgTCBcIitkK1wiIFwiK2UrXCIgTCAwIFwiK2UpfTtpZihmLmNoYW1mZXIpe3ZhciBoPWYuY2hhbWZlcjtnLnZlcnRpY2VzPXouY2hhbWZlcihnLnZlcnRpY2VzLGgucmFkaXVzLGgucXVhbGl0eSxoLnF1YWxpdHlNaW4saC5xdWFsaXR5TWF4KSxkZWxldGUgZi5jaGFtZmVyfXJldHVybiBiLmNyZWF0ZShvLmV4dGVuZCh7fSxnLGYpKX0sdS50cmFwZXpvaWQ9ZnVuY3Rpb24oYSxjLGQsZSxmLGcpe2c9Z3x8e30sZio9LjU7dmFyIGg9KDEtMipmKSpkLGk9ZCpmLGo9aStoLGs9aitpLGw9e2xhYmVsOlwiVHJhcGV6b2lkIEJvZHlcIixwb3NpdGlvbjp7eDphLHk6Y30sdmVydGljZXM6ei5mcm9tUGF0aChcIkwgMCAwIEwgXCIraStcIiBcIistZStcIiBMIFwiK2orXCIgXCIrLWUrXCIgTCBcIitrK1wiIDBcIil9O1xyXG5pZihnLmNoYW1mZXIpe3ZhciBtPWcuY2hhbWZlcjtsLnZlcnRpY2VzPXouY2hhbWZlcihsLnZlcnRpY2VzLG0ucmFkaXVzLG0ucXVhbGl0eSxtLnF1YWxpdHlNaW4sbS5xdWFsaXR5TWF4KSxkZWxldGUgZy5jaGFtZmVyfXJldHVybiBiLmNyZWF0ZShvLmV4dGVuZCh7fSxsLGcpKX0sdS5jaXJjbGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtkPWR8fHt9LGQubGFiZWw9XCJDaXJjbGUgQm9keVwiLGU9ZXx8MjU7dmFyIGY9TWF0aC5jZWlsKE1hdGgubWF4KDEwLE1hdGgubWluKGUsYykpKTtyZXR1cm4gZiUyPT09MSYmKGYrPTEpLGQuY2lyY2xlUmFkaXVzPWMsdS5wb2x5Z29uKGEsYixmLGMsZCl9LHUucG9seWdvbj1mdW5jdGlvbihhLGMsZCxlLGYpe2lmKGY9Znx8e30sMz5kKXJldHVybiB1LmNpcmNsZShhLGMsZSxmKTtmb3IodmFyIGc9MipNYXRoLlBJL2QsaD1cIlwiLGk9LjUqZyxqPTA7ZD5qO2orPTEpe3ZhciBrPWkraipnLGw9TWF0aC5jb3MoaykqZSxtPU1hdGguc2luKGspKmU7aCs9XCJMIFwiK2wudG9GaXhlZCgzKStcIiBcIittLnRvRml4ZWQoMykrXCIgXCJ9dmFyIG49e2xhYmVsOlwiUG9seWdvbiBCb2R5XCIscG9zaXRpb246e3g6YSx5OmN9LHZlcnRpY2VzOnouZnJvbVBhdGgoaCl9O2lmKGYuY2hhbWZlcil7dmFyIHA9Zi5jaGFtZmVyO24udmVydGljZXM9ei5jaGFtZmVyKG4udmVydGljZXMscC5yYWRpdXMscC5xdWFsaXR5LHAucXVhbGl0eU1pbixwLnF1YWxpdHlNYXgpLGRlbGV0ZSBmLmNoYW1mZXJ9cmV0dXJuIGIuY3JlYXRlKG8uZXh0ZW5kKHt9LG4sZikpfX0oKTt2YXIgdj17fTshZnVuY3Rpb24oKXt2LnN0YWNrPWZ1bmN0aW9uKGEsZCxlLGYsZyxoLGkpe2Zvcih2YXIgaixrPWMuY3JlYXRlKHtsYWJlbDpcIlN0YWNrXCJ9KSxsPWEsbT1kLG49MCxvPTA7Zj5vO28rKyl7Zm9yKHZhciBwPTAscT0wO2U+cTtxKyspe3ZhciByPWkobCxtLHEsbyxqLG4pO2lmKHIpe3ZhciBzPXIuYm91bmRzLm1heC55LXIuYm91bmRzLm1pbi55LHQ9ci5ib3VuZHMubWF4Lngtci5ib3VuZHMubWluLng7cz5wJiYocD1zKSxiLnRyYW5zbGF0ZShyLHt4Oi41KnQseTouNSpzfSksbD1yLmJvdW5kcy5tYXgueCtnLGMuYWRkQm9keShrLHIpLGo9cixuKz0xfX1tKz1wK2gsbD1hfXJldHVybiBrfSx2LmNoYWluPWZ1bmN0aW9uKGEsYixkLGUsZixnKXtmb3IodmFyIGg9YS5ib2RpZXMsaT0xO2k8aC5sZW5ndGg7aSsrKXt2YXIgaj1oW2ktMV0saz1oW2ldLGw9ai5ib3VuZHMubWF4Lnktai5ib3VuZHMubWluLnksbj1qLmJvdW5kcy5tYXgueC1qLmJvdW5kcy5taW4ueCxwPWsuYm91bmRzLm1heC55LWsuYm91bmRzLm1pbi55LHE9ay5ib3VuZHMubWF4Lngtay5ib3VuZHMubWluLngscj17Ym9keUE6aixwb2ludEE6e3g6bipiLHk6bCpkfSxib2R5QjprLHBvaW50Qjp7eDpxKmUseTpwKmZ9fSxzPW8uZXh0ZW5kKHIsZyk7Yy5hZGRDb25zdHJhaW50KGEsbS5jcmVhdGUocykpfXJldHVybiBhLmxhYmVsKz1cIiBDaGFpblwiLGF9LHYubWVzaD1mdW5jdGlvbihhLGIsZCxlLGYpe3ZhciBnLGgsaSxqLGssbD1hLmJvZGllcztmb3IoZz0wO2Q+ZztnKyspe2ZvcihoPTA7Yj5oO2grKyloPjAmJihpPWxbaC0xK2cqYl0saj1sW2grZypiXSxjLmFkZENvbnN0cmFpbnQoYSxtLmNyZWF0ZShvLmV4dGVuZCh7Ym9keUE6aSxib2R5QjpqfSxmKSkpKTtmb3IoaD0wO2I+aDtoKyspZz4wJiYoaT1sW2grKGctMSkqYl0saj1sW2grZypiXSxjLmFkZENvbnN0cmFpbnQoYSxtLmNyZWF0ZShvLmV4dGVuZCh7Ym9keUE6aSxib2R5QjpqfSxmKSkpLGUmJmg+MCYmKGs9bFtoLTErKGctMSkqYl0sYy5hZGRDb25zdHJhaW50KGEsbS5jcmVhdGUoby5leHRlbmQoe2JvZHlBOmssYm9keUI6an0sZikpKSksZSYmYi0xPmgmJihrPWxbaCsxKyhnLTEpKmJdLGMuYWRkQ29uc3RyYWludChhLG0uY3JlYXRlKG8uZXh0ZW5kKHtib2R5QTprLGJvZHlCOmp9LGYpKSkpKX1yZXR1cm4gYS5sYWJlbCs9XCIgTWVzaFwiLGF9LHYucHlyYW1pZD1mdW5jdGlvbihhLGMsZCxlLGYsZyxoKXtyZXR1cm4gdi5zdGFjayhhLGMsZCxlLGYsZyxmdW5jdGlvbihjLGcsaSxqLGssbCl7dmFyIG09TWF0aC5taW4oZSxNYXRoLmNlaWwoZC8yKSksbj1rP2suYm91bmRzLm1heC54LWsuYm91bmRzLm1pbi54OjA7aWYoIShqPm0pKXtqPW0tajt2YXIgbz1qLHA9ZC0xLWo7aWYoIShvPml8fGk+cCkpezE9PT1sJiZiLnRyYW5zbGF0ZShrLHt4OihpKyhkJTI9PT0xPzE6LTEpKSpuLHk6MH0pO3ZhciBxPWs/aSpuOjA7cmV0dXJuIGgoYStxK2kqZixnLGksaixrLGwpfX19KX0sdi5uZXd0b25zQ3JhZGxlPWZ1bmN0aW9uKGEsYixkLGUsZil7Zm9yKHZhciBnPWMuY3JlYXRlKHtsYWJlbDpcIk5ld3RvbnMgQ3JhZGxlXCJ9KSxoPTA7ZD5oO2grKyl7dmFyIGk9MS45LGo9dS5jaXJjbGUoYStoKmUqaSxiK2YsZSx7aW5lcnRpYTo5OTk5OSxyZXN0aXR1dGlvbjoxLGZyaWN0aW9uOjAsZnJpY3Rpb25BaXI6MWUtNCxzbG9wOi4wMX0pLGs9bS5jcmVhdGUoe3BvaW50QTp7eDphK2gqZSppLHk6Yn0sYm9keUI6an0pO2MuYWRkQm9keShnLGopLGMuYWRkQ29uc3RyYWludChnLGspfXJldHVybiBnfSx2LmNhcj1mdW5jdGlvbihhLGQsZSxmLGcpe3ZhciBoPWIubmV4dEdyb3VwSWQoKSxpPS0yMCxqPS41Ki1lK2ksaz0uNSplLWksbD0wLG49Yy5jcmVhdGUoe2xhYmVsOlwiQ2FyXCJ9KSxvPXUudHJhcGV6b2lkKGEsZCxlLGYsLjMse2dyb3VwSWQ6aCxmcmljdGlvbjouMDEsY2hhbWZlcjp7cmFkaXVzOjEwfX0pLHA9dS5jaXJjbGUoYStqLGQrbCxnLHtncm91cElkOmgscmVzdGl0dXRpb246LjUsZnJpY3Rpb246LjksZGVuc2l0eTouMDF9KSxxPXUuY2lyY2xlKGErayxkK2wsZyx7Z3JvdXBJZDpoLHJlc3RpdHV0aW9uOi41LGZyaWN0aW9uOi45LGRlbnNpdHk6LjAxfSkscj1tLmNyZWF0ZSh7Ym9keUE6byxwb2ludEE6e3g6aix5Omx9LGJvZHlCOnAsc3RpZmZuZXNzOi41fSkscz1tLmNyZWF0ZSh7Ym9keUE6byxwb2ludEE6e3g6ayx5Omx9LGJvZHlCOnEsc3RpZmZuZXNzOi41fSk7cmV0dXJuIGMuYWRkQm9keShuLG8pLGMuYWRkQm9keShuLHApLGMuYWRkQm9keShuLHEpLGMuYWRkQ29uc3RyYWludChuLHIpLGMuYWRkQ29uc3RyYWludChuLHMpLG59LHYuc29mdEJvZHk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksail7aT1vLmV4dGVuZCh7aW5lcnRpYToxLzB9LGkpLGo9by5leHRlbmQoe3N0aWZmbmVzczouNH0saik7dmFyIGs9di5zdGFjayhhLGIsYyxkLGUsZixmdW5jdGlvbihhLGIpe3JldHVybiB1LmNpcmNsZShhLGIsaCxpKX0pO3JldHVybiB2Lm1lc2goayxjLGQsZyxqKSxrLmxhYmVsPVwiU29mdCBCb2R5XCIsa319KCk7dmFyIHc9e307IWZ1bmN0aW9uKCl7dy5mcm9tVmVydGljZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9KGMrMSklYS5sZW5ndGgsZT15Lm5vcm1hbGlzZSh7eDphW2RdLnktYVtjXS55LHk6YVtjXS54LWFbZF0ueH0pLGY9MD09PWUueT8xLzA6ZS54L2UueTtmPWYudG9GaXhlZCgzKS50b1N0cmluZygpLGJbZl09ZX1yZXR1cm4gby52YWx1ZXMoYil9LHcucm90YXRlPWZ1bmN0aW9uKGEsYil7aWYoMCE9PWIpZm9yKHZhciBjPU1hdGguY29zKGIpLGQ9TWF0aC5zaW4oYiksZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZixnPWFbZV07Zj1nLngqYy1nLnkqZCxnLnk9Zy54KmQrZy55KmMsZy54PWZ9fX0oKTt2YXIgeD17fTshZnVuY3Rpb24oKXt4LmNyZWF0ZT1mdW5jdGlvbihhKXt2YXIgYj17bWluOnt4OjAseTowfSxtYXg6e3g6MCx5OjB9fTtyZXR1cm4gYSYmeC51cGRhdGUoYixhKSxifSx4LnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7YS5taW4ueD1OdW1iZXIuTUFYX1ZBTFVFLGEubWF4Lng9TnVtYmVyLk1JTl9WQUxVRSxhLm1pbi55PU51bWJlci5NQVhfVkFMVUUsYS5tYXgueT1OdW1iZXIuTUlOX1ZBTFVFO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO2UueD5hLm1heC54JiYoYS5tYXgueD1lLngpLGUueDxhLm1pbi54JiYoYS5taW4ueD1lLngpLGUueT5hLm1heC55JiYoYS5tYXgueT1lLnkpLGUueTxhLm1pbi55JiYoYS5taW4ueT1lLnkpfWMmJihjLng+MD9hLm1heC54Kz1jLng6YS5taW4ueCs9Yy54LGMueT4wP2EubWF4LnkrPWMueTphLm1pbi55Kz1jLnkpfSx4LmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIueD49YS5taW4ueCYmYi54PD1hLm1heC54JiZiLnk+PWEubWluLnkmJmIueTw9YS5tYXgueX0seC5vdmVybGFwcz1mdW5jdGlvbihhLGIpe3JldHVybiBhLm1pbi54PD1iLm1heC54JiZhLm1heC54Pj1iLm1pbi54JiZhLm1heC55Pj1iLm1pbi55JiZhLm1pbi55PD1iLm1heC55fSx4LnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe2EubWluLngrPWIueCxhLm1heC54Kz1iLngsYS5taW4ueSs9Yi55LGEubWF4LnkrPWIueX0seC5zaGlmdD1mdW5jdGlvbihhLGIpe3ZhciBjPWEubWF4LngtYS5taW4ueCxkPWEubWF4LnktYS5taW4ueTthLm1pbi54PWIueCxhLm1heC54PWIueCtjLGEubWluLnk9Yi55LGEubWF4Lnk9Yi55K2R9fSgpO3ZhciB5PXt9OyFmdW5jdGlvbigpe3kubWFnbml0dWRlPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnNxcnQoYS54KmEueCthLnkqYS55KX0seS5tYWduaXR1ZGVTcXVhcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBhLngqYS54K2EueSphLnl9LHkucm90YXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5jb3MoYiksZD1NYXRoLnNpbihiKTtyZXR1cm57eDphLngqYy1hLnkqZCx5OmEueCpkK2EueSpjfX0seS5yb3RhdGVBYm91dD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9TWF0aC5jb3MoYiksZT1NYXRoLnNpbihiKTtyZXR1cm57eDpjLngrKChhLngtYy54KSpkLShhLnktYy55KSplKSx5OmMueSsoKGEueC1jLngpKmUrKGEueS1jLnkpKmQpfX0seS5ub3JtYWxpc2U9ZnVuY3Rpb24oYSl7dmFyIGI9eS5tYWduaXR1ZGUoYSk7cmV0dXJuIDA9PT1iP3t4OjAseTowfTp7eDphLngvYix5OmEueS9ifX0seS5kb3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS54KmIueCthLnkqYi55fSx5LmNyb3NzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEueCpiLnktYS55KmIueH0seS5hZGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDphLngrYi54LHk6YS55K2IueX19LHkuc3ViPWZ1bmN0aW9uKGEsYil7cmV0dXJue3g6YS54LWIueCx5OmEueS1iLnl9fSx5Lm11bHQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDphLngqYix5OmEueSpifX0seS5kaXY9ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDphLngvYix5OmEueS9ifX0seS5wZXJwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9Yj09PSEwPy0xOjEse3g6YiotYS55LHk6YiphLnh9fSx5Lm5lZz1mdW5jdGlvbihhKXtyZXR1cm57eDotYS54LHk6LWEueX19LHkuYW5nbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5hdGFuMihiLnktYS55LGIueC1hLngpfX0oKTt2YXIgej17fTshZnVuY3Rpb24oKXt6LmNyZWF0ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWFbY10uaW5kZXg9YyxhW2NdLmJvZHk9Yn0sei5mcm9tUGF0aD1mdW5jdGlvbihhKXt2YXIgYj0vTFxccyooW1xcLVxcZFxcLl0qKVxccyooW1xcLVxcZFxcLl0qKS9naSxjPVtdO3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCl7Yy5wdXNoKHt4OnBhcnNlRmxvYXQoYiwxMCkseTpwYXJzZUZsb2F0KGQsMTApfSl9KSxjfSx6LmNlbnRyZT1mdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGU9ei5hcmVhKGEsITApLGY9e3g6MCx5OjB9LGc9MDtnPGEubGVuZ3RoO2crKylkPShnKzEpJWEubGVuZ3RoLGI9eS5jcm9zcyhhW2ddLGFbZF0pLGM9eS5tdWx0KHkuYWRkKGFbZ10sYVtkXSksYiksZj15LmFkZChmLGMpO3JldHVybiB5LmRpdihmLDYqZSl9LHouYXJlYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGgtMSxlPTA7ZTxhLmxlbmd0aDtlKyspYys9KGFbZF0ueC1hW2VdLngpKihhW2RdLnkrYVtlXS55KSxkPWU7cmV0dXJuIGI/Yy8yOk1hdGguYWJzKGMpLzJ9LHouaW5lcnRpYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9MCxmPTAsZz1hLGg9MDtoPGcubGVuZ3RoO2grKylkPShoKzEpJWcubGVuZ3RoLGM9TWF0aC5hYnMoeS5jcm9zcyhnW2RdLGdbaF0pKSxlKz1jKih5LmRvdChnW2RdLGdbZF0pK3kuZG90KGdbZF0sZ1toXSkreS5kb3QoZ1toXSxnW2hdKSksZis9YztyZXR1cm4gYi82KihlL2YpfSx6LnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYylmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWFbZF0ueCs9Yi54KmMsYVtkXS55Kz1iLnkqYztlbHNlIGZvcihkPTA7ZDxhLmxlbmd0aDtkKyspYVtkXS54Kz1iLngsYVtkXS55Kz1iLnl9LHoucm90YXRlPWZ1bmN0aW9uKGEsYixjKXtpZigwIT09Yilmb3IodmFyIGQ9TWF0aC5jb3MoYiksZT1NYXRoLnNpbihiKSxmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPWFbZl0saD1nLngtYy54LGk9Zy55LWMueTtnLng9Yy54KyhoKmQtaSplKSxnLnk9Yy55KyhoKmUraSpkKX19LHouY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWFbKGMrMSklYS5sZW5ndGhdO2lmKChiLngtZC54KSooZS55LWQueSkrKGIueS1kLnkpKihkLngtZS54KT4wKXJldHVybiExfXJldHVybiEwfSx6LnNjYWxlPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDE9PT1iJiYxPT09YylyZXR1cm4gYTtkPWR8fHouY2VudHJlKGEpO2Zvcih2YXIgZSxmLGc9MDtnPGEubGVuZ3RoO2crKyllPWFbZ10sZj15LnN1YihlLGQpLGFbZ10ueD1kLngrZi54KmIsYVtnXS55PWQueStmLnkqYztyZXR1cm4gYX0sei5jaGFtZmVyPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yj1ifHxbOF0sYi5sZW5ndGh8fChiPVtiXSksYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYz9jOi0xLGQ9ZHx8MixlPWV8fDE0O2Zvcih2YXIgZj0oei5jZW50cmUoYSksW10pLGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnLTE+PTA/Zy0xOmEubGVuZ3RoLTFdLGk9YVtnXSxqPWFbKGcrMSklYS5sZW5ndGhdLGs9YltnPGIubGVuZ3RoP2c6Yi5sZW5ndGgtMV07aWYoMCE9PWspe3ZhciBsPXkubm9ybWFsaXNlKHt4OmkueS1oLnkseTpoLngtaS54fSksbT15Lm5vcm1hbGlzZSh7eDpqLnktaS55LHk6aS54LWoueH0pLG49TWF0aC5zcXJ0KDIqTWF0aC5wb3coaywyKSkscD15Lm11bHQoby5jbG9uZShsKSxrKSxxPXkubm9ybWFsaXNlKHkubXVsdCh5LmFkZChsLG0pLC41KSkscj15LnN1YihpLHkubXVsdChxLG4pKSxzPWM7LTE9PT1jJiYocz0xLjc1Kk1hdGgucG93KGssLjMyKSkscz1vLmNsYW1wKHMsZCxlKSxzJTI9PT0xJiYocys9MSk7Zm9yKHZhciB0PU1hdGguYWNvcyh5LmRvdChsLG0pKSx1PXQvcyx2PTA7cz52O3YrKylmLnB1c2goeS5hZGQoeS5yb3RhdGUocCx1KnYpLHIpKX1lbHNlIGYucHVzaChpKX1yZXR1cm4gZn19KCk7dmFyIEE9e307IWZ1bmN0aW9uKCl7QS5jcmVhdGU9ZnVuY3Rpb24oYil7dmFyIGM9e2NvbnRyb2xsZXI6QSxlbGVtZW50Om51bGwsY2FudmFzOm51bGwsb3B0aW9uczp7d2lkdGg6ODAwLGhlaWdodDo2MDAsYmFja2dyb3VuZDpcIiNmYWZhZmFcIix3aXJlZnJhbWVCYWNrZ3JvdW5kOlwiIzIyMlwiLGhhc0JvdW5kczohMSxlbmFibGVkOiEwLHdpcmVmcmFtZXM6ITAsc2hvd1NsZWVwaW5nOiEwLHNob3dEZWJ1ZzohMSxzaG93QnJvYWRwaGFzZTohMSxzaG93Qm91bmRzOiExLHNob3dWZWxvY2l0eTohMSxzaG93Q29sbGlzaW9uczohMSxzaG93QXhlczohMSxzaG93UG9zaXRpb25zOiExLHNob3dBbmdsZUluZGljYXRvcjohMSxzaG93SWRzOiExLHNob3dTaGFkb3dzOiExfX0sZD1vLmV4dGVuZChjLGIpO3JldHVybiBkLmNhbnZhcz1kLmNhbnZhc3x8YShkLm9wdGlvbnMud2lkdGgsZC5vcHRpb25zLmhlaWdodCksZC5jb250ZXh0PWQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxkLnRleHR1cmVzPXt9LGQuYm91bmRzPWQuYm91bmRzfHx7bWluOnt4OjAseTowfSxtYXg6e3g6ZC5vcHRpb25zLndpZHRoLHk6ZC5vcHRpb25zLmhlaWdodH19LEEuc2V0QmFja2dyb3VuZChkLGQub3B0aW9ucy5iYWNrZ3JvdW5kKSxvLmlzRWxlbWVudChkLmVsZW1lbnQpP2QuZWxlbWVudC5hcHBlbmRDaGlsZChkLmNhbnZhcyk6by5sb2coJ05vIFwicmVuZGVyLmVsZW1lbnRcIiBwYXNzZWQsIFwicmVuZGVyLmNhbnZhc1wiIHdhcyBub3QgaW5zZXJ0ZWQgaW50byBkb2N1bWVudC4nLFwid2FyblwiKSxkfSxBLmNsZWFyPWZ1bmN0aW9uKCl7fSxBLnNldEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiKXtpZihhLmN1cnJlbnRCYWNrZ3JvdW5kIT09Yil7dmFyIGM9YjsvKGpwZ3xnaWZ8cG5nKSQvLnRlc3QoYikmJihjPVwidXJsKFwiK2IrXCIpXCIpLGEuY2FudmFzLnN0eWxlLmJhY2tncm91bmQ9YyxhLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT1cImNvbnRhaW5cIixhLmN1cnJlbnRCYWNrZ3JvdW5kPWJ9fSxBLndvcmxkPWZ1bmN0aW9uKGEpe3ZhciBiLGQ9YS5yZW5kZXIsZT1hLndvcmxkLGY9ZC5jYW52YXMsZz1kLmNvbnRleHQsaD1kLm9wdGlvbnMsaT1jLmFsbEJvZGllcyhlKSxqPWMuYWxsQ29uc3RyYWludHMoZSksaz1bXSxsPVtdO2gud2lyZWZyYW1lcz9BLnNldEJhY2tncm91bmQoZCxoLndpcmVmcmFtZUJhY2tncm91bmQpOkEuc2V0QmFja2dyb3VuZChkLGguYmFja2dyb3VuZCksZy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJzb3VyY2UtaW5cIixnLmZpbGxTdHlsZT1cInRyYW5zcGFyZW50XCIsZy5maWxsUmVjdCgwLDAsZi53aWR0aCxmLmhlaWdodCksZy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJzb3VyY2Utb3ZlclwiO3ZhciBtPWQuYm91bmRzLm1heC54LWQuYm91bmRzLm1pbi54LG49ZC5ib3VuZHMubWF4LnktZC5ib3VuZHMubWluLnksbz1tL2Qub3B0aW9ucy53aWR0aCxwPW4vZC5vcHRpb25zLmhlaWdodDtpZihoLmhhc0JvdW5kcyl7Zm9yKGI9MDtiPGkubGVuZ3RoO2IrKyl7dmFyIHE9aVtiXTt4Lm92ZXJsYXBzKHEuYm91bmRzLGQuYm91bmRzKSYmay5wdXNoKHEpfWZvcihiPTA7YjxqLmxlbmd0aDtiKyspe3ZhciByPWpbYl0scz1yLmJvZHlBLHQ9ci5ib2R5Qix1PXIucG9pbnRBLHY9ci5wb2ludEI7cyYmKHU9eS5hZGQocy5wb3NpdGlvbixyLnBvaW50QSkpLHQmJih2PXkuYWRkKHQucG9zaXRpb24sci5wb2ludEIpKSx1JiZ2JiYoeC5jb250YWlucyhkLmJvdW5kcyx1KXx8eC5jb250YWlucyhkLmJvdW5kcyx2KSkmJmwucHVzaChyKX1nLnNjYWxlKDEvbywxL3ApLGcudHJhbnNsYXRlKC1kLmJvdW5kcy5taW4ueCwtZC5ib3VuZHMubWluLnkpfWVsc2UgbD1qLGs9aTshaC53aXJlZnJhbWVzfHxhLmVuYWJsZVNsZWVwaW5nJiZoLnNob3dTbGVlcGluZz9BLmJvZGllcyhhLGssZyk6QS5ib2R5V2lyZWZyYW1lcyhhLGssZyksaC5zaG93Qm91bmRzJiZBLmJvZHlCb3VuZHMoYSxrLGcpLChoLnNob3dBeGVzfHxoLnNob3dBbmdsZUluZGljYXRvcikmJkEuYm9keUF4ZXMoYSxrLGcpLGguc2hvd1Bvc2l0aW9ucyYmQS5ib2R5UG9zaXRpb25zKGEsayxnKSxoLnNob3dWZWxvY2l0eSYmQS5ib2R5VmVsb2NpdHkoYSxrLGcpLGguc2hvd0lkcyYmQS5ib2R5SWRzKGEsayxnKSxoLnNob3dDb2xsaXNpb25zJiZBLmNvbGxpc2lvbnMoYSxhLnBhaXJzLmxpc3QsZyksQS5jb25zdHJhaW50cyhsLGcpLGguc2hvd0Jyb2FkcGhhc2UmJlwiZ3JpZFwiPT09YS5icm9hZHBoYXNlLmN1cnJlbnQmJkEuZ3JpZChhLGEuYnJvYWRwaGFzZVthLmJyb2FkcGhhc2UuY3VycmVudF0uaW5zdGFuY2UsZyksaC5zaG93RGVidWcmJkEuZGVidWcoYSxnKSxoLmhhc0JvdW5kcyYmZy5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApfSxBLmRlYnVnPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YixlPWEud29ybGQsZj1hLnJlbmRlcixoPWYub3B0aW9ucyxpPWMuYWxsQm9kaWVzKGUpLGo9XCIgICAgXCI7aWYoYS50aW1pbmcudGltZXN0YW1wLShmLmRlYnVnVGltZXN0YW1wfHwwKT49NTAwKXt2YXIgaz1cIlwiO2srPVwiZnBzOiBcIitNYXRoLnJvdW5kKGEudGltaW5nLmZwcykraixhLm1ldHJpY3MuZXh0ZW5kZWQmJihrKz1cImRlbHRhOiBcIithLnRpbWluZy5kZWx0YS50b0ZpeGVkKDMpK2osays9XCJjb3JyZWN0aW9uOiBcIithLnRpbWluZy5jb3JyZWN0aW9uLnRvRml4ZWQoMykraixrKz1cImJvZGllczogXCIraS5sZW5ndGgraixhLmJyb2FkcGhhc2UuY29udHJvbGxlcj09PWcmJihrKz1cImJ1Y2tldHM6IFwiK2EubWV0cmljcy5idWNrZXRzK2opLGsrPVwiXFxuXCIsays9XCJjb2xsaXNpb25zOiBcIithLm1ldHJpY3MuY29sbGlzaW9ucytqLGsrPVwicGFpcnM6IFwiK2EucGFpcnMubGlzdC5sZW5ndGgraixrKz1cImJyb2FkOiBcIithLm1ldHJpY3MuYnJvYWRFZmYraixrKz1cIm1pZDogXCIrYS5tZXRyaWNzLm1pZEVmZitqLGsrPVwibmFycm93OiBcIithLm1ldHJpY3MubmFycm93RWZmK2opLGYuZGVidWdTdHJpbmc9ayxmLmRlYnVnVGltZXN0YW1wPWEudGltaW5nLnRpbWVzdGFtcH1pZihmLmRlYnVnU3RyaW5nKXtkLmZvbnQ9XCIxMnB4IEFyaWFsXCIsZC5maWxsU3R5bGU9aC53aXJlZnJhbWVzP1wicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCI6XCJyZ2JhKDAsMCwwLDAuNSlcIjtmb3IodmFyIGw9Zi5kZWJ1Z1N0cmluZy5zcGxpdChcIlxcblwiKSxtPTA7bTxsLmxlbmd0aDttKyspZC5maWxsVGV4dChsW21dLDUwLDUwKzE4Km0pfX0sQS5jb25zdHJhaW50cz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZihlLnJlbmRlci52aXNpYmxlJiZlLnBvaW50QSYmZS5wb2ludEIpe3ZhciBmPWUuYm9keUEsZz1lLmJvZHlCO2Y/KGMuYmVnaW5QYXRoKCksYy5tb3ZlVG8oZi5wb3NpdGlvbi54K2UucG9pbnRBLngsZi5wb3NpdGlvbi55K2UucG9pbnRBLnkpKTooYy5iZWdpblBhdGgoKSxjLm1vdmVUbyhlLnBvaW50QS54LGUucG9pbnRBLnkpKSxnP2MubGluZVRvKGcucG9zaXRpb24ueCtlLnBvaW50Qi54LGcucG9zaXRpb24ueStlLnBvaW50Qi55KTpjLmxpbmVUbyhlLnBvaW50Qi54LGUucG9pbnRCLnkpLGMubGluZVdpZHRoPWUucmVuZGVyLmxpbmVXaWR0aCxjLnN0cm9rZVN0eWxlPWUucmVuZGVyLnN0cm9rZVN0eWxlLGMuc3Ryb2tlKCl9fX0sQS5ib2R5U2hhZG93cz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWMsZT1hLnJlbmRlcixmPShlLm9wdGlvbnMsMCk7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07aWYoZy5yZW5kZXIudmlzaWJsZSl7aWYoZy5jaXJjbGVSYWRpdXMpZC5iZWdpblBhdGgoKSxkLmFyYyhnLnBvc2l0aW9uLngsZy5wb3NpdGlvbi55LGcuY2lyY2xlUmFkaXVzLDAsMipNYXRoLlBJKSxkLmNsb3NlUGF0aCgpO2Vsc2V7ZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhnLnZlcnRpY2VzWzBdLngsZy52ZXJ0aWNlc1swXS55KTtmb3IodmFyIGg9MTtoPGcudmVydGljZXMubGVuZ3RoO2grKylkLmxpbmVUbyhnLnZlcnRpY2VzW2hdLngsZy52ZXJ0aWNlc1toXS55KTtkLmNsb3NlUGF0aCgpfXZhciBpPWcucG9zaXRpb24ueC0uNSplLm9wdGlvbnMud2lkdGgsaj1nLnBvc2l0aW9uLnktLjIqZS5vcHRpb25zLmhlaWdodCxrPU1hdGguYWJzKGkpK01hdGguYWJzKGopO2Quc2hhZG93Q29sb3I9XCJyZ2JhKDAsMCwwLDAuMTUpXCIsZC5zaGFkb3dPZmZzZXRYPS4wNSppLGQuc2hhZG93T2Zmc2V0WT0uMDUqaixkLnNoYWRvd0JsdXI9MSsxMipNYXRoLm1pbigxLGsvMWUzKSxkLmZpbGwoKSxkLnNoYWRvd0NvbG9yPW51bGwsZC5zaGFkb3dPZmZzZXRYPW51bGwsZC5zaGFkb3dPZmZzZXRZPW51bGwsZC5zaGFkb3dCbHVyPW51bGx9fX0sQS5ib2RpZXM9ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCxnPWEucmVuZGVyLGg9Zy5vcHRpb25zO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBpPWNbZV07aWYoaS5yZW5kZXIudmlzaWJsZSlpZihpLnJlbmRlci5zcHJpdGUmJmkucmVuZGVyLnNwcml0ZS50ZXh0dXJlJiYhaC53aXJlZnJhbWVzKXt2YXIgaj1pLnJlbmRlci5zcHJpdGUsaz1iKGcsai50ZXh0dXJlKTtoLnNob3dTbGVlcGluZyYmaS5pc1NsZWVwaW5nJiYoZi5nbG9iYWxBbHBoYT0uNSksZi50cmFuc2xhdGUoaS5wb3NpdGlvbi54LGkucG9zaXRpb24ueSksZi5yb3RhdGUoaS5hbmdsZSksZi5kcmF3SW1hZ2UoayxrLndpZHRoKi0uNSpqLnhTY2FsZSxrLmhlaWdodCotLjUqai55U2NhbGUsay53aWR0aCpqLnhTY2FsZSxrLmhlaWdodCpqLnlTY2FsZSksZi5yb3RhdGUoLWkuYW5nbGUpLGYudHJhbnNsYXRlKC1pLnBvc2l0aW9uLngsLWkucG9zaXRpb24ueSksaC5zaG93U2xlZXBpbmcmJmkuaXNTbGVlcGluZyYmKGYuZ2xvYmFsQWxwaGE9MSl9ZWxzZXtpZihpLmNpcmNsZVJhZGl1cylmLmJlZ2luUGF0aCgpLGYuYXJjKGkucG9zaXRpb24ueCxpLnBvc2l0aW9uLnksaS5jaXJjbGVSYWRpdXMsMCwyKk1hdGguUEkpO2Vsc2V7Zi5iZWdpblBhdGgoKSxmLm1vdmVUbyhpLnZlcnRpY2VzWzBdLngsaS52ZXJ0aWNlc1swXS55KTtmb3IodmFyIGw9MTtsPGkudmVydGljZXMubGVuZ3RoO2wrKylmLmxpbmVUbyhpLnZlcnRpY2VzW2xdLngsaS52ZXJ0aWNlc1tsXS55KTtmLmNsb3NlUGF0aCgpfWgud2lyZWZyYW1lcz8oZi5saW5lV2lkdGg9MSxmLnN0cm9rZVN0eWxlPVwiI2JiYlwiLGguc2hvd1NsZWVwaW5nJiZpLmlzU2xlZXBpbmcmJihmLnN0cm9rZVN0eWxlPVwicmdiYSgyNTUsMjU1LDI1NSwwLjIpXCIpLGYuc3Ryb2tlKCkpOihmLmZpbGxTdHlsZT1oLnNob3dTbGVlcGluZyYmaS5pc1NsZWVwaW5nP28uc2hhZGVDb2xvcihpLnJlbmRlci5maWxsU3R5bGUsNTApOmkucmVuZGVyLmZpbGxTdHlsZSxmLmxpbmVXaWR0aD1pLnJlbmRlci5saW5lV2lkdGgsZi5zdHJva2VTdHlsZT1pLnJlbmRlci5zdHJva2VTdHlsZSxmLmZpbGwoKSxmLnN0cm9rZSgpKX19fSxBLmJvZHlXaXJlZnJhbWVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9Yztmb3IoZi5iZWdpblBhdGgoKSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBnPWJbZF07aWYoZy5yZW5kZXIudmlzaWJsZSl7Zm9yKGYubW92ZVRvKGcudmVydGljZXNbMF0ueCxnLnZlcnRpY2VzWzBdLnkpLGU9MTtlPGcudmVydGljZXMubGVuZ3RoO2UrKylmLmxpbmVUbyhnLnZlcnRpY2VzW2VdLngsZy52ZXJ0aWNlc1tlXS55KTtmLmxpbmVUbyhnLnZlcnRpY2VzWzBdLngsZy52ZXJ0aWNlc1swXS55KX19Zi5saW5lV2lkdGg9MSxmLnN0cm9rZVN0eWxlPVwiI2JiYlwiLGYuc3Ryb2tlKCl9LEEuYm9keUJvdW5kcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyxlPWEucmVuZGVyLGY9ZS5vcHRpb25zO2QuYmVnaW5QYXRoKCk7Zm9yKHZhciBnPTA7ZzxiLmxlbmd0aDtnKyspe3ZhciBoPWJbZ107aC5yZW5kZXIudmlzaWJsZSYmZC5yZWN0KGguYm91bmRzLm1pbi54LGguYm91bmRzLm1pbi55LGguYm91bmRzLm1heC54LWguYm91bmRzLm1pbi54LGguYm91bmRzLm1heC55LWguYm91bmRzLm1pbi55KX1kLnN0cm9rZVN0eWxlPWYud2lyZWZyYW1lcz9cInJnYmEoMjU1LDI1NSwyNTUsMC4wOClcIjpcInJnYmEoMCwwLDAsMC4xKVwiLGQubGluZVdpZHRoPTEsZC5zdHJva2UoKX0sQS5ib2R5QXhlcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWMsZz1hLnJlbmRlcixoPWcub3B0aW9ucztmb3IoZi5iZWdpblBhdGgoKSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBpPWJbZF07aWYoaS5yZW5kZXIudmlzaWJsZSlpZihoLnNob3dBeGVzKWZvcihlPTA7ZTxpLmF4ZXMubGVuZ3RoO2UrKyl7dmFyIGo9aS5heGVzW2VdO2YubW92ZVRvKGkucG9zaXRpb24ueCxpLnBvc2l0aW9uLnkpLGYubGluZVRvKGkucG9zaXRpb24ueCsyMCpqLngsaS5wb3NpdGlvbi55KzIwKmoueSl9ZWxzZSBmLm1vdmVUbyhpLnBvc2l0aW9uLngsaS5wb3NpdGlvbi55KSxmLmxpbmVUbygoaS52ZXJ0aWNlc1swXS54K2kudmVydGljZXNbaS52ZXJ0aWNlcy5sZW5ndGgtMV0ueCkvMiwoaS52ZXJ0aWNlc1swXS55K2kudmVydGljZXNbaS52ZXJ0aWNlcy5sZW5ndGgtMV0ueSkvMil9Zi5zdHJva2VTdHlsZT1oLndpcmVmcmFtZXM/XCJpbmRpYW5yZWRcIjpcInJnYmEoMCwwLDAsMC4zKVwiLGYubGluZVdpZHRoPTEsZi5zdHJva2UoKX0sQS5ib2R5UG9zaXRpb25zPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YyxnPWEucmVuZGVyLGg9Zy5vcHRpb25zO2ZvcihmLmJlZ2luUGF0aCgpLGU9MDtlPGIubGVuZ3RoO2UrKylkPWJbZV0sZC5yZW5kZXIudmlzaWJsZSYmKGYuYXJjKGQucG9zaXRpb24ueCxkLnBvc2l0aW9uLnksMywwLDIqTWF0aC5QSSwhMSksZi5jbG9zZVBhdGgoKSk7Zm9yKGYuZmlsbFN0eWxlPWgud2lyZWZyYW1lcz9cImluZGlhbnJlZFwiOlwicmdiYSgwLDAsMCwwLjUpXCIsZi5maWxsKCksZi5iZWdpblBhdGgoKSxlPTA7ZTxiLmxlbmd0aDtlKyspZD1iW2VdLGQucmVuZGVyLnZpc2libGUmJihmLmFyYyhkLnBvc2l0aW9uUHJldi54LGQucG9zaXRpb25QcmV2LnksMiwwLDIqTWF0aC5QSSwhMSksZi5jbG9zZVBhdGgoKSk7Zi5maWxsU3R5bGU9XCJyZ2JhKDI1NSwxNjUsMCwwLjgpXCIsZi5maWxsKCl9LEEuYm9keVZlbG9jaXR5PWZ1bmN0aW9uKGEsYixjKXt7dmFyIGQ9YyxlPWEucmVuZGVyO2Uub3B0aW9uc31kLmJlZ2luUGF0aCgpO2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO2cucmVuZGVyLnZpc2libGUmJihkLm1vdmVUbyhnLnBvc2l0aW9uLngsZy5wb3NpdGlvbi55KSxkLmxpbmVUbyhnLnBvc2l0aW9uLngrMiooZy5wb3NpdGlvbi54LWcucG9zaXRpb25QcmV2LngpLGcucG9zaXRpb24ueSsyKihnLnBvc2l0aW9uLnktZy5wb3NpdGlvblByZXYueSkpKX1kLmxpbmVXaWR0aD0zLGQuc3Ryb2tlU3R5bGU9XCJjb3JuZmxvd2VyYmx1ZVwiLGQuc3Ryb2tlKCl9LEEuYm9keUlkcz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWMsZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdO2YucmVuZGVyLnZpc2libGUmJihkLmZvbnQ9XCIxMnB4IEFyaWFsXCIsZC5maWxsU3R5bGU9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIixkLmZpbGxUZXh0KGYuaWQsZi5wb3NpdGlvbi54KzEwLGYucG9zaXRpb24ueS0xMCkpfX0sQS5jb2xsaXNpb25zPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWMsaT1hLnJlbmRlci5vcHRpb25zO2ZvcihoLmJlZ2luUGF0aCgpLGY9MDtmPGIubGVuZ3RoO2YrKylmb3IoZD1iW2ZdLGU9ZC5jb2xsaXNpb24sZz0wO2c8ZC5hY3RpdmVDb250YWN0cy5sZW5ndGg7ZysrKXt2YXIgaj1kLmFjdGl2ZUNvbnRhY3RzW2ddLGs9ai52ZXJ0ZXg7aC5yZWN0KGsueC0xLjUsay55LTEuNSwzLjUsMy41KX1mb3IoaC5maWxsU3R5bGU9aS53aXJlZnJhbWVzP1wicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCI6XCJvcmFuZ2VcIixoLmZpbGwoKSxoLmJlZ2luUGF0aCgpLGY9MDtmPGIubGVuZ3RoO2YrKylpZihkPWJbZl0sZT1kLmNvbGxpc2lvbixkLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aD4wKXt2YXIgbD1kLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC54LG09ZC5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueTsyPT09ZC5hY3RpdmVDb250YWN0cy5sZW5ndGgmJihsPShkLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC54K2QuYWN0aXZlQ29udGFjdHNbMV0udmVydGV4LngpLzIsbT0oZC5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueStkLmFjdGl2ZUNvbnRhY3RzWzFdLnZlcnRleC55KS8yKSxoLm1vdmVUbyhsLTgqZS5ub3JtYWwueCxtLTgqZS5ub3JtYWwueSksaC5saW5lVG8obCxtKX1oLnN0cm9rZVN0eWxlPWkud2lyZWZyYW1lcz9cInJnYmEoMjU1LDE2NSwwLDAuNylcIjpcIm9yYW5nZVwiLGgubGluZVdpZHRoPTEsaC5zdHJva2UoKX0sQS5ncmlkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jLGU9YS5yZW5kZXIub3B0aW9ucztkLnN0cm9rZVN0eWxlPWUud2lyZWZyYW1lcz9cInJnYmEoMjU1LDE4MCwwLDAuMSlcIjpcInJnYmEoMjU1LDE4MCwwLDAuNSlcIixkLmJlZ2luUGF0aCgpO2Zvcih2YXIgZj1vLmtleXMoYi5idWNrZXRzKSxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBoPWZbZ107aWYoIShiLmJ1Y2tldHNbaF0ubGVuZ3RoPDIpKXt2YXIgaT1oLnNwbGl0KFwiLFwiKTtkLnJlY3QoLjUrcGFyc2VJbnQoaVswXSwxMCkqYi5idWNrZXRXaWR0aCwuNStwYXJzZUludChpWzFdLDEwKSpiLmJ1Y2tldEhlaWdodCxiLmJ1Y2tldFdpZHRoLGIuYnVja2V0SGVpZ2h0KX19ZC5saW5lV2lkdGg9MSxkLnN0cm9rZSgpfSxBLmluc3BlY3Rvcj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5lbmdpbmUsZT0oZC5pbnB1dC5tb3VzZSxhLnNlbGVjdGVkKSxmPWQucmVuZGVyLGc9Zi5vcHRpb25zO2lmKGcuaGFzQm91bmRzKXt2YXIgaD1mLmJvdW5kcy5tYXgueC1mLmJvdW5kcy5taW4ueCxpPWYuYm91bmRzLm1heC55LWYuYm91bmRzLm1pbi55LGo9aC9mLm9wdGlvbnMud2lkdGgsaz1pL2Yub3B0aW9ucy5oZWlnaHQ7Yi5zY2FsZSgxL2osMS9rKSxiLnRyYW5zbGF0ZSgtZi5ib3VuZHMubWluLngsLWYuYm91bmRzLm1pbi55KX1mb3IodmFyIGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIG09ZVtsXS5kYXRhO3N3aXRjaChiLnRyYW5zbGF0ZSguNSwuNSksYi5saW5lV2lkdGg9MSxiLnN0cm9rZVN0eWxlPVwicmdiYSgyNTUsMTY1LDAsMC45KVwiLGIuc2V0TGluZURhc2goWzEsMl0pLG0udHlwZSl7Y2FzZVwiYm9keVwiOmM9bS5ib3VuZHMsYi5iZWdpblBhdGgoKSxiLnJlY3QoTWF0aC5mbG9vcihjLm1pbi54LTMpLE1hdGguZmxvb3IoYy5taW4ueS0zKSxNYXRoLmZsb29yKGMubWF4LngtYy5taW4ueCs2KSxNYXRoLmZsb29yKGMubWF4LnktYy5taW4ueSs2KSksYi5jbG9zZVBhdGgoKSxiLnN0cm9rZSgpO2JyZWFrO2Nhc2VcImNvbnN0cmFpbnRcIjp2YXIgbj1tLnBvaW50QTttLmJvZHlBJiYobj1tLnBvaW50QiksYi5iZWdpblBhdGgoKSxiLmFyYyhuLngsbi55LDEwLDAsMipNYXRoLlBJKSxiLmNsb3NlUGF0aCgpLGIuc3Ryb2tlKCl9Yi5zZXRMaW5lRGFzaChbMF0pLGIudHJhbnNsYXRlKC0uNSwtLjUpfW51bGwhPT1hLnNlbGVjdFN0YXJ0JiYoYi50cmFuc2xhdGUoLjUsLjUpLGIubGluZVdpZHRoPTEsYi5zdHJva2VTdHlsZT1cInJnYmEoMjU1LDE2NSwwLDAuNilcIixiLmZpbGxTdHlsZT1cInJnYmEoMjU1LDE2NSwwLDAuMSlcIixjPWEuc2VsZWN0Qm91bmRzLGIuYmVnaW5QYXRoKCksYi5yZWN0KE1hdGguZmxvb3IoYy5taW4ueCksTWF0aC5mbG9vcihjLm1pbi55KSxNYXRoLmZsb29yKGMubWF4LngtYy5taW4ueCksTWF0aC5mbG9vcihjLm1heC55LWMubWluLnkpKSxiLmNsb3NlUGF0aCgpLGIuc3Ryb2tlKCksYi5maWxsKCksYi50cmFuc2xhdGUoLS41LC0uNSkpLGcuaGFzQm91bmRzJiZiLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCl9O3ZhciBhPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gYy53aWR0aD1hLGMuaGVpZ2h0PWIsYy5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGMub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiExfSxjfSxiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS50ZXh0dXJlc1tiXTtyZXR1cm4gYz9jOihjPWEudGV4dHVyZXNbYl09bmV3IEltYWdlLGMuc3JjPWIsYyl9fSgpO3ZhciBCPXt9OyFmdW5jdGlvbigpe0IuY3JlYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXtjb250cm9sbGVyOkIsZWxlbWVudDpudWxsLGNhbnZhczpudWxsLG9wdGlvbnM6e3dpZHRoOjgwMCxoZWlnaHQ6NjAwLGJhY2tncm91bmQ6XCIjZmFmYWZhXCIsd2lyZWZyYW1lQmFja2dyb3VuZDpcIiMyMjJcIixlbmFibGVkOiEwLHdpcmVmcmFtZXM6ITAsc2hvd1NsZWVwaW5nOiEwLHNob3dEZWJ1ZzohMSxzaG93QnJvYWRwaGFzZTohMSxzaG93Qm91bmRzOiExLHNob3dWZWxvY2l0eTohMSxzaG93Q29sbGlzaW9uczohMSxzaG93QXhlczohMSxzaG93UG9zaXRpb25zOiExLHNob3dBbmdsZUluZGljYXRvcjohMSxzaG93SWRzOiExLHNob3dTaGFkb3dzOiExfX0sYz1vLmV4dGVuZChiLGEpO3JldHVybiBjLmNvbnRleHQ9bmV3IFBJWEkuV2ViR0xSZW5kZXJlcig4MDAsNjAwLGMuY2FudmFzLCExLCEwKSxjLmNhbnZhcz1jLmNvbnRleHQudmlldyxjLnN0YWdlPW5ldyBQSVhJLlN0YWdlLGMudGV4dHVyZXM9e30sYy5zcHJpdGVzPXt9LGMucHJpbWl0aXZlcz17fSxjLnNwcml0ZUJhdGNoPW5ldyBQSVhJLlNwcml0ZUJhdGNoLGMuc3RhZ2UuYWRkQ2hpbGQoYy5zcHJpdGVCYXRjaCksby5pc0VsZW1lbnQoYy5lbGVtZW50KT9jLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYy5jYW52YXMpOm8ubG9nKCdObyBcInJlbmRlci5lbGVtZW50XCIgcGFzc2VkLCBcInJlbmRlci5jYW52YXNcIiB3YXMgbm90IGluc2VydGVkIGludG8gZG9jdW1lbnQuJyxcIndhcm5cIiksYy5jYW52YXMub25jb250ZXh0bWVudT1mdW5jdGlvbigpe3JldHVybiExfSxjLmNhbnZhcy5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGN9LEIuY2xlYXI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuc3RhZ2UsYz1hLnNwcml0ZUJhdGNoO2IuY2hpbGRyZW5bMF07KWIucmVtb3ZlQ2hpbGQoYi5jaGlsZHJlblswXSk7Zm9yKDtjLmNoaWxkcmVuWzBdOyljLnJlbW92ZUNoaWxkKGMuY2hpbGRyZW5bMF0pO3ZhciBkPWEuc3ByaXRlc1tcImJnLTBcIl07YS50ZXh0dXJlcz17fSxhLnNwcml0ZXM9e30sYS5wcmltaXRpdmVzPXt9LGEuc3ByaXRlc1tcImJnLTBcIl09ZCxkJiZjLmFkZENoaWxkQXQoZCwwKSxhLnN0YWdlLmFkZENoaWxkKGEuc3ByaXRlQmF0Y2gpLGEuY3VycmVudEJhY2tncm91bmQ9bnVsbH0sQi5zZXRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYil7aWYoYS5jdXJyZW50QmFja2dyb3VuZCE9PWIpe3ZhciBjPWIuaW5kZXhPZiYmLTEhPT1iLmluZGV4T2YoXCIjXCIpLGU9YS5zcHJpdGVzW1wiYmctMFwiXTtpZihjKXt2YXIgZj1vLmNvbG9yVG9OdW1iZXIoYik7YS5zdGFnZS5zZXRCYWNrZ3JvdW5kQ29sb3IoZiksZSYmYS5zcHJpdGVCYXRjaC5yZW1vdmVDaGlsZChlKX1lbHNlIGlmKCFlKXt2YXIgZz1kKGEsYik7ZT1hLnNwcml0ZXNbXCJiZy0wXCJdPW5ldyBQSVhJLlNwcml0ZShnKSxlLnBvc2l0aW9uLng9MCxlLnBvc2l0aW9uLnk9MCxhLnNwcml0ZUJhdGNoLmFkZENoaWxkQXQoZSwwKX1hLmN1cnJlbnRCYWNrZ3JvdW5kPWJ9fSxCLndvcmxkPWZ1bmN0aW9uKGEpe3ZhciBiLGQ9YS5yZW5kZXIsZT1hLndvcmxkLGY9ZC5jb250ZXh0LGc9ZC5zdGFnZSxoPWQub3B0aW9ucyxpPWMuYWxsQm9kaWVzKGUpLGo9Yy5hbGxDb25zdHJhaW50cyhlKTtmb3IoaC53aXJlZnJhbWVzP0Iuc2V0QmFja2dyb3VuZChkLGgud2lyZWZyYW1lQmFja2dyb3VuZCk6Qi5zZXRCYWNrZ3JvdW5kKGQsaC5iYWNrZ3JvdW5kKSxiPTA7YjxpLmxlbmd0aDtiKyspQi5ib2R5KGEsaVtiXSk7Zm9yKGI9MDtiPGoubGVuZ3RoO2IrKylCLmNvbnN0cmFpbnQoYSxqW2JdKTtmLnJlbmRlcihnKX0sQi5jb25zdHJhaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yZW5kZXIsZD1iLmJvZHlBLGU9Yi5ib2R5QixmPWIucG9pbnRBLGc9Yi5wb2ludEIsaD1jLnN0YWdlLGk9Yi5yZW5kZXIsaj1cImMtXCIrYi5pZCxrPWMucHJpbWl0aXZlc1tqXTtyZXR1cm4ga3x8KGs9Yy5wcmltaXRpdmVzW2pdPW5ldyBQSVhJLkdyYXBoaWNzKSxpLnZpc2libGUmJmIucG9pbnRBJiZiLnBvaW50Qj8oLTE9PT1oLmNoaWxkcmVuLmluZGV4T2YoaykmJmguYWRkQ2hpbGQoayksay5jbGVhcigpLGsuYmVnaW5GaWxsKDAsMCksay5saW5lU3R5bGUoaS5saW5lV2lkdGgsby5jb2xvclRvTnVtYmVyKGkuc3Ryb2tlU3R5bGUpLDEpLGQ/ay5tb3ZlVG8oZC5wb3NpdGlvbi54K2YueCxkLnBvc2l0aW9uLnkrZi55KTprLm1vdmVUbyhmLngsZi55KSxlP2subGluZVRvKGUucG9zaXRpb24ueCtnLngsZS5wb3NpdGlvbi55K2cueSk6ay5saW5lVG8oZy54LGcueSksdm9pZCBrLmVuZEZpbGwoKSk6dm9pZCBrLmNsZWFyKCl9LEIuYm9keT1mdW5jdGlvbihjLGQpe3ZhciBlPWMucmVuZGVyLGY9ZC5yZW5kZXI7aWYoZi52aXNpYmxlKWlmKGYuc3ByaXRlJiZmLnNwcml0ZS50ZXh0dXJlKXt2YXIgZz1cImItXCIrZC5pZCxoPWUuc3ByaXRlc1tnXSxpPWUuc3ByaXRlQmF0Y2g7aHx8KGg9ZS5zcHJpdGVzW2ddPWEoZSxkKSksLTE9PT1pLmNoaWxkcmVuLmluZGV4T2YoaCkmJmkuYWRkQ2hpbGQoaCksaC5wb3NpdGlvbi54PWQucG9zaXRpb24ueCxoLnBvc2l0aW9uLnk9ZC5wb3NpdGlvbi55LGgucm90YXRpb249ZC5hbmdsZX1lbHNle3ZhciBqPVwiYi1cIitkLmlkLGs9ZS5wcmltaXRpdmVzW2pdLGw9ZS5zdGFnZTtrfHwoaz1lLnByaW1pdGl2ZXNbal09YihlLGQpLGsuaW5pdGlhbEFuZ2xlPWQuYW5nbGUpLC0xPT09bC5jaGlsZHJlbi5pbmRleE9mKGspJiZsLmFkZENoaWxkKGspLGsucG9zaXRpb24ueD1kLnBvc2l0aW9uLngsay5wb3NpdGlvbi55PWQucG9zaXRpb24ueSxrLnJvdGF0aW9uPWQuYW5nbGUtay5pbml0aWFsQW5nbGV9fTt2YXIgYT1mdW5jdGlvbihhLGIpe3ZhciBjPWIucmVuZGVyLGU9Yy5zcHJpdGUudGV4dHVyZSxmPWQoYSxlKSxnPW5ldyBQSVhJLlNwcml0ZShmKTtyZXR1cm4gZy5hbmNob3IueD0uNSxnLmFuY2hvci55PS41LGd9LGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnJlbmRlcixkPWEub3B0aW9ucyxlPW5ldyBQSVhJLkdyYXBoaWNzO2UuY2xlYXIoKSxkLndpcmVmcmFtZXM/KGUuYmVnaW5GaWxsKDAsMCksZS5saW5lU3R5bGUoMSxvLmNvbG9yVG9OdW1iZXIoXCIjYmJiXCIpLDEpKTooZS5iZWdpbkZpbGwoby5jb2xvclRvTnVtYmVyKGMuZmlsbFN0eWxlKSwxKSxlLmxpbmVTdHlsZShiLnJlbmRlci5saW5lV2lkdGgsby5jb2xvclRvTnVtYmVyKGMuc3Ryb2tlU3R5bGUpLDEpKSxlLm1vdmVUbyhiLnZlcnRpY2VzWzBdLngtYi5wb3NpdGlvbi54LGIudmVydGljZXNbMF0ueS1iLnBvc2l0aW9uLnkpO2Zvcih2YXIgZj0xO2Y8Yi52ZXJ0aWNlcy5sZW5ndGg7ZisrKWUubGluZVRvKGIudmVydGljZXNbZl0ueC1iLnBvc2l0aW9uLngsYi52ZXJ0aWNlc1tmXS55LWIucG9zaXRpb24ueSk7cmV0dXJuIGUubGluZVRvKGIudmVydGljZXNbMF0ueC1iLnBvc2l0aW9uLngsYi52ZXJ0aWNlc1swXS55LWIucG9zaXRpb24ueSksZS5lbmRGaWxsKCksKGQuc2hvd0FuZ2xlSW5kaWNhdG9yfHxkLnNob3dBeGVzKSYmKGUuYmVnaW5GaWxsKDAsMCksZC53aXJlZnJhbWVzP2UubGluZVN0eWxlKDEsby5jb2xvclRvTnVtYmVyKFwiI0NENUM1Q1wiKSwxKTplLmxpbmVTdHlsZSgxLG8uY29sb3JUb051bWJlcihiLnJlbmRlci5zdHJva2VTdHlsZSkpLGUubW92ZVRvKDAsMCksZS5saW5lVG8oKGIudmVydGljZXNbMF0ueCtiLnZlcnRpY2VzW2IudmVydGljZXMubGVuZ3RoLTFdLngpLzItYi5wb3NpdGlvbi54LChiLnZlcnRpY2VzWzBdLnkrYi52ZXJ0aWNlc1tiLnZlcnRpY2VzLmxlbmd0aC0xXS55KS8yLWIucG9zaXRpb24ueSksZS5lbmRGaWxsKCkpLGV9LGQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRleHR1cmVzW2JdO3JldHVybiBjfHwoYz1hLnRleHR1cmVzW2JdPVBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoYikpLGN9fSgpLGQuYWRkPWMuYWRkLGQucmVtb3ZlPWMucmVtb3ZlLGQuYWRkQ29tcG9zaXRlPWMuYWRkQ29tcG9zaXRlLGQuYWRkQm9keT1jLmFkZEJvZHksZC5hZGRDb25zdHJhaW50PWMuYWRkQ29uc3RyYWludCxkLmNsZWFyPWMuY2xlYXIsYS5Cb2R5PWIsYS5Db21wb3NpdGU9YyxhLldvcmxkPWQsYS5Db250YWN0PWUsYS5EZXRlY3Rvcj1mLGEuR3JpZD1nLGEuUGFpcnM9aSxhLlBhaXI9aCxhLlJlc29sdmVyPWssYS5TQVQ9bCxhLkNvbnN0cmFpbnQ9bSxhLk1vdXNlQ29uc3RyYWludD1uLGEuQ29tbW9uPW8sYS5FbmdpbmU9cCxhLk1ldHJpY3M9cixhLk1vdXNlPXMsYS5TbGVlcGluZz10LGEuQm9kaWVzPXUsYS5Db21wb3NpdGVzPXYsYS5BeGVzPXcsYS5Cb3VuZHM9eCxhLlZlY3Rvcj15LGEuVmVydGljZXM9eixhLlJlbmRlcj1BLGEuUmVuZGVyUGl4aT1CLGEuRXZlbnRzPXEsYS5RdWVyeT1qLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWEpLGV4cG9ydHMuTWF0dGVyPWEpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwiTWF0dGVyXCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gYX0pLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cuZG9jdW1lbnQmJih3aW5kb3cuTWF0dGVyPWEpfSgpOyJdfQ==
